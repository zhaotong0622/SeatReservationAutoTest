[D 2025-05-08 22:01:05,389 minium loader#137 load_from_module] Loading module: seat_reservation_auto_test
[D 2025-05-08 22:01:05,404 minium loader#141 load_from_module] put module[seat_reservation_auto_test] into queue
[I 2025-05-08 22:01:05,420 minium loader#300 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220105'}

[D 2025-05-08 22:01:06,359 minium minitest#327 _miniClassSetUp] =====================
[D 2025-05-08 22:01:06,359 minium minitest#328 _miniClassSetUp] Testing class：SeatReservationAutoTest
[D 2025-05-08 22:01:06,359 minium minitest#329 _miniClassSetUp] =====================
[I 2025-05-08 22:01:06,359 minium minitest#202 init_miniprogram] start init miniprogram
[I 2025-05-08 22:01:06,375 minium basenative#59 wrapper] call IdeNative.start_wechat
[I 2025-05-08 22:01:06,375 minium basenative#63 wrapper] call IdeNative.start_wechat end None
[D 2025-05-08 22:01:06,375 minium wx_minium#118 __init__] {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220105'}
[I 2025-05-08 22:01:06,375 minium wx_minium#738 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2025-05-08 22:01:06,375 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\zhaotong\SeatReservation" --auto-port 9420
[I 2025-05-08 22:01:09,886 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:51229
- preparing
- Fetching AppID (wxe9dbb4816baa7be1) permissions
√ Using AppID: wxe9dbb4816baa7be1
√ auto

[I 2025-05-08 22:01:09,886 minium minium_object#102 _do_shell] out:

[I 2025-05-08 22:01:19,898 minium wx_minium#835 connect_dev_tool] Trying to connect Dev tool ...
[I 2025-05-08 22:01:20,407 minium.Conn8080 connection#352 _connect] connect to WebChatTools successfully
[D 2025-05-08 22:01:20,407 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"c9c5efe3-5f40-4f84-80b5-8f75ed3e9edd","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:01:20,407 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"c9c5efe3-5f40-4f84-80b5-8f75ed3e9edd","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[D 2025-05-08 22:01:20,407 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"7fcd5635-afeb-416e-84e2-f4863a20a04b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:01:22,114 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"method":"App.initialized","params":{}}
[W 2025-05-08 22:01:22,115 minium.Conn8080 connection#330 notify] no observer listening event App.initialized
[D 2025-05-08 22:01:22,135 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"7fcd5635-afeb-416e-84e2-f4863a20a04b","result":{"result":{"batteryLevel":39,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[D 2025-05-08 22:01:22,136 minium.App2064 app#618 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2025-05-08 22:01:22,136 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"e7e14519-8066-4cc7-a32c-653d7af6c74e","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2025-05-08 22:01:22,142 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"e7e14519-8066-4cc7-a32c-653d7af6c74e","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2025-05-08 22:01:22,142 minium.Conn8080 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:01:22,142 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"1f6c84be-b596-46d6-a183-70ad9e3725c7","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2025-05-08 22:01:22,148 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"1f6c84be-b596-46d6-a183-70ad9e3725c7","result":{}}
[D 2025-05-08 22:01:22,149 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"8ebfcf90-06d7-4d51-a39c-bdb6ee739cb1","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            var c = getCurrentPages().pop()\n            if (c && c.__wxWebviewId__ == options.webviewId) options.renderer = c.renderer\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2025-05-08 22:01:22,156 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"8ebfcf90-06d7-4d51-a39c-bdb6ee739cb1","result":{}}
[D 2025-05-08 22:01:22,156 minium.App2064 app#618 _evaluate_js] evaluate js file utils [ALL]
[D 2025-05-08 22:01:22,158 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"79a07634-b665-4d22-b0a4-1c12d5c38571","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),l=Object.getOwnPropertyDescriptor(t,r);let u=!1;if(n[r])o[r]&&(u=!0);else{let e,i=!1;l?l.get?(u=!0,e=l.get):(i=!0,e=l.value):e=t[r],e&&(s[r]=i,o[r]=u,n[r]=e)}return u?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),l=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),l?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":if(e===t)return!0;\"*\"===e&&(e=\".*\");try{return!!new RegExp(e).exec(t)}catch(e){return!1}case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}unshift(e){this.rule_list.unshift(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(...e){for(let o of e)for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,o))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2025-05-08 22:01:22,164 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"79a07634-b665-4d22-b0a4-1c12d5c38571","result":{}}
[D 2025-05-08 22:01:22,164 minium.App2064 app#618 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2025-05-08 22:01:22,167 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"6a2ffde7-5252-499e-a9d0-17b23f3796a8","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);if(!g&&(g=global.__minium__.setSrcMethod(n,c),void 0===g))return void(_.get(n)[c]=!0);global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2025-05-08 22:01:22,174 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"6a2ffde7-5252-499e-a9d0-17b23f3796a8","result":{}}
[D 2025-05-08 22:01:22,174 minium.App2064 app#618 _evaluate_js] evaluate js file requestStack [ALL]
[D 2025-05-08 22:01:22,174 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"cb345e19-9b4e-4325-9a69-25d7e8ea867e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):\"empty stack\"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,r){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}","args":[]}}
[D 2025-05-08 22:01:22,182 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"cb345e19-9b4e-4325-9a69-25d7e8ea867e","result":{"result":true}}
[D 2025-05-08 22:01:22,182 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"2488d87e-8220-4b04-b1f8-e4e935e94a5e","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2025-05-08 22:01:22,189 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"2488d87e-8220-4b04-b1f8-e4e935e94a5e","result":{"result":{"pages":["pages/login/login","pages/user/home/home"],"tabBar":[]}}}
[D 2025-05-08 22:01:22,190 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"b4367ee8-831c-4af0-b295-59690808d5b6","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2025-05-08 22:01:22,194 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"b4367ee8-831c-4af0-b295-59690808d5b6","result":{"result":{"miniProgram":{"appId":"wxe9dbb4816baa7be1","envVersion":"develop","version":""}}}}
[D 2025-05-08 22:01:22,194 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"a2d9aa79-2568-4c67-bf51-38d933315bd5","method":"App.addBinding","params":{"name":"navigateTo_before_global"}}
[D 2025-05-08 22:01:22,198 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"a2d9aa79-2568-4c67-bf51-38d933315bd5","result":{}}
[D 2025-05-08 22:01:22,200 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"85ced7d3-fadc-4b2a-bc63-541bf673c497","method":"App.addBinding","params":{"name":"redirectTo_before_global"}}
[D 2025-05-08 22:01:22,204 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"85ced7d3-fadc-4b2a-bc63-541bf673c497","result":{}}
[D 2025-05-08 22:01:22,204 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"b562d203-7c79-4d8c-b52a-87e3fd40c555","method":"App.addBinding","params":{"name":"switchTab_before_global"}}
[D 2025-05-08 22:01:22,208 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"b562d203-7c79-4d8c-b52a-87e3fd40c555","result":{}}
[D 2025-05-08 22:01:22,209 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"e4fc25f3-7f58-4f53-b882-769b9e694cf1","method":"App.addBinding","params":{"name":"navigateBack_before_global"}}
[D 2025-05-08 22:01:22,211 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"e4fc25f3-7f58-4f53-b882-769b9e694cf1","result":{}}
[D 2025-05-08 22:01:22,213 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"75758a3e-1a46-4f10-bec6-81c37ac8cbba","method":"App.addBinding","params":{"name":"reLaunch_before_global"}}
[D 2025-05-08 22:01:22,217 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"75758a3e-1a46-4f10-bec6-81c37ac8cbba","result":{}}
[D 2025-05-08 22:01:22,217 minium.App2064 app#618 _evaluate_js] evaluate js file hookNavigation [ALL]
[D 2025-05-08 22:01:22,220 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"a8a5d5e1-3646-49db-8a0c-c87215f79ae0","method":"App.callFunction","params":{"functionDeclaration":"function hookNavigation(){if(global.__minium__.navigationHooked)return!0;global.__minium__.navigationHooked=!0;const e=\"global\",a=Object.defineProperties;function o(e){switch(e){case\"navigateTo_before_global\":return\"function\"==typeof navigateTo_before_global?navigateTo_before_global:void 0;case\"redirectTo_before_global\":return\"function\"==typeof redirectTo_before_global?redirectTo_before_global:void 0;case\"switchTab_before_global\":return\"function\"==typeof switchTab_before_global?switchTab_before_global:void 0;case\"navigateBack_before_global\":return\"function\"==typeof navigateBack_before_global?navigateBack_before_global:void 0;case\"reLaunch_before_global\":return\"function\"==typeof reLaunch_before_global?reLaunch_before_global:void 0;default:return}}function t(e){const a=o(e);return a||function(){const a=o(e);return a&&a(...arguments)}}global.__minium__.getRealBindingMethod=o,global.__minium__.getBindingMethod=t;[\"navigateTo\",\"redirectTo\",\"switchTab\",\"navigateBack\",\"reLaunch\"].forEach((a=>{global.__minium__.setCall(a,e,{before:t(`${a}_before_${e}`)})})),wx.onAppRouteDone((function(){const o=getCurrentPages().pop();o&&function(o,r){if(!o||!0===o.__page_router_rewrited__)return;const n={navigateTo:o.navigateTo,redirectTo:o.redirectTo,switchTab:o.switchTab,navigateBack:o.navigateBack,reLaunch:o.reLaunch};a(o,{__page_router_rewrited__:{value:!0,writable:!0},navigateTo:{value(a={}){const i=t(`navigateTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.navigateTo.call(o,a)},writable:!0},redirectTo:{value(a={}){const i=t(`redirectTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.redirectTo.call(o,a)},writable:!0},switchTab:{value(a={}){const i=t(`switchTab_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.switchTab.call(o,a)},writable:!0},navigateBack:{value(a={}){const r=t(`navigateBack_before_${e}`);return r&&r(a),n.navigateBack.call(o,a)},writable:!0},reLaunch:{value(a={}){const i=t(`reLaunch_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.reLaunch.call(o,a)},writable:!0}}),console.warn(\"hook pageRouter succ\")}(o.pageRouter,o.route||o.__route__)}))}","args":[]}}
[D 2025-05-08 22:01:22,227 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"a8a5d5e1-3646-49db-8a0c-c87215f79ae0","result":{}}
[D 2025-05-08 22:01:22,229 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"c4ef6d11-af57-4a07-be5f-374a6d56b1f6","method":"App.addBinding","params":{"name":"showModal_before_1746712882229"}}
[D 2025-05-08 22:01:22,234 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"c4ef6d11-af57-4a07-be5f-374a6d56b1f6","result":{}}
[D 2025-05-08 22:01:22,234 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"b01046ad-8aba-4958-9b36-600ed7ce29fd","method":"App.addBinding","params":{"name":"showModal_callback_1746712882229"}}
[D 2025-05-08 22:01:22,236 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"b01046ad-8aba-4958-9b36-600ed7ce29fd","result":{}}
[D 2025-05-08 22:01:22,241 minium.App2064 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:01:22,242 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"e425eef4-5ba3-4baa-b456-14b6c2e9333c","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1746712882229,after:undefined,callback:showModal_callback_1746712882229},!0):global.__minium__.delCall(_,l)}","args":["showModal",1746712882229,true]}}
[D 2025-05-08 22:01:22,247 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"e425eef4-5ba3-4baa-b456-14b6c2e9333c","result":{}}
[D 2025-05-08 22:01:22,247 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"25431827-02bb-479b-9ac2-5cab625b9e47","method":"App.addBinding","params":{"name":"showToast_before_1746712882247"}}
[D 2025-05-08 22:01:22,252 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"25431827-02bb-479b-9ac2-5cab625b9e47","result":{}}
[D 2025-05-08 22:01:22,252 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"42651385-9af3-4b01-8a7e-72d9a0db2be6","method":"App.addBinding","params":{"name":"showToast_callback_1746712882247"}}
[D 2025-05-08 22:01:22,258 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"42651385-9af3-4b01-8a7e-72d9a0db2be6","result":{}}
[D 2025-05-08 22:01:22,258 minium.App2064 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:01:22,258 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"3bb3611d-dd4a-4f15-a3da-c7d379d31ce6","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1746712882247,after:undefined,callback:showToast_callback_1746712882247},!0):global.__minium__.delCall(_,l)}","args":["showToast",1746712882247,true]}}
[D 2025-05-08 22:01:22,263 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"3bb3611d-dd4a-4f15-a3da-c7d379d31ce6","result":{}}
[I 2025-05-08 22:01:22,263 minium wx_minium#893 _instantiate_app] new app instanst <minium.miniprogram.base_driver.app.App object at 0x0000027044C127F0>, whether should relaunch: False
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"8129387c-011c-405e-9278-aee247d1f820","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"8129387c-011c-405e-9278-aee247d1f820","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[I 2025-05-08 22:01:22,265 minium basenative#59 wrapper] call IdeNative.send
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"44c69148-2f76-40e9-902c-1e9e45179265","method":"Tool.native","params":{"method":"clickCoverView","data":{"data":{"nodetype":"text","text":"\u540c\u610f"}}}}
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"44c69148-2f76-40e9-902c-1e9e45179265","result":{"error":{"message":"clickCoverView failed"}}}
[W 2025-05-08 22:01:22,265 minium idenative#77 _send] handle clickCoverView error: clickCoverView failed
[I 2025-05-08 22:01:22,265 minium basenative#63 wrapper] call IdeNative.send end False
[D 2025-05-08 22:01:22,265 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"6e7b0d7f-6eec-4c54-9577-699e5aeb1150","method":"App.callWxMethod","params":{"method":"getPrivacySetting","args":[]}}
[D 2025-05-08 22:01:22,280 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"6e7b0d7f-6eec-4c54-9577-699e5aeb1150","error":{"message":"wx.getPrivacySetting not exists"}}
[E 2025-05-08 22:01:22,282 minium.Conn8080 connection#668 __on_message] [6e7b0d7f-6eec-4c54-9577-699e5aeb1150]: wx.getPrivacySetting not exists
[D 2025-05-08 22:01:22,283 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"c56fbea6-b04d-4bac-b4d1-1bda4b24178f","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2025-05-08 22:01:22,290 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"c56fbea6-b04d-4bac-b4d1-1bda4b24178f","result":{"result":false}}
[D 2025-05-08 22:01:22,293 minium.App2064 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:01:22,293 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"4fffa889-ce35-4b62-ae72-c42928b206de","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2025-05-08 22:01:22,298 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"4fffa889-ce35-4b62-ae72-c42928b206de","result":{}}
[D 2025-05-08 22:01:22,298 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"09e465a1-40e0-47e3-ba47-f9d4f34e29aa","method":"App.getCurrentPage","params":{}}
[D 2025-05-08 22:01:22,303 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"09e465a1-40e0-47e3-ba47-f9d4f34e29aa","result":{"pageId":1,"path":"pages/login/login","query":{}}}
[D 2025-05-08 22:01:22,305 minium.App2064 app#618 _evaluate_js] evaluate js file getCurrentPages [ALL]
[D 2025-05-08 22:01:22,306 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"78dd5d68-fa4a-4b80-8b35-9ccbe03abc73","method":"App.callFunction","params":{"functionDeclaration":"function miniumGetCurrentPages(e){var r=getCurrentPages();return e&&(r=[r.pop()]),r=r.map((function(e){if(e){let{route:r}=e;const n=r.indexOf(\"__plugin__/\");return n>-1&&(r=\"plugin-private://\"+r.slice(n+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options,renderer:e.renderer}}})),e?r.pop():r}","args":[true]}}
[D 2025-05-08 22:01:22,306 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"78dd5d68-fa4a-4b80-8b35-9ccbe03abc73","result":{"result":{"pageId":1,"path":"pages/login/login","query":{}}}}
[D 2025-05-08 22:01:22,312 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"fe1f2048-b7e0-451c-b2e5-e9ff37748808","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2025-05-08 22:01:22,752 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"fe1f2048-b7e0-451c-b2e5-e9ff37748808","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2025-05-08 22:01:22,754 minium.App2064 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:01:22,755 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"6e20d185-0c8e-4d2e-bc60-e914ccfc3acc","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniGetLocation(o,n,e){return new Promise((o=>{let t={errMsg:\"chooseLocation:ok\",name:\"\u817e\u8baf\u5fae\u4fe1\u603b\u90e8\",address:\"\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\",latitude:23.12463,longitude:113.36199},i={errMsg:\"chooseLocation:fail cancel\"},c={errMsg:\"chooseLocation:fail auth deny\"},a={};for(let o in t)void 0!==n[o]&&(t[o]=n[o]);for(let o in e)a[o]=Object.assign({},t,e[o]);wx.authorize({scope:\"scope.userLocation\",success:()=>function(){let n={\"\u786e\u5b9a\":function(){return o(t),t}};n[t.name]=function(){return o(t),t};for(let e in a)n[e]=function(){return o(a[e]),a[e]};n[\"\u53d6\u6d88\"]=function(){return o(i),i},global.__minium__.mock_map_modal(n)}(),fail:()=>(o(c),c)}),console.warn(\"[minium] mock wx.chooseLocation, you can use `native.allow_get_location` to handle it\")}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["chooseLocation",[{},{}]]}}
[D 2025-05-08 22:01:22,755 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"6e20d185-0c8e-4d2e-bc60-e914ccfc3acc","result":{}}
[D 2025-05-08 22:01:22,761 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"3800a9df-66f3-40f3-b64d-0e7690435e65","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const a=(e.method||\"GET\").toUpperCase(),t=e.url,[i,l]=t.split(\"?\"),o=function(e){if(!(e=e.split(\"#\")[0]))return{};const s={},c=e.split(\"&\");for(let e=0;e<c.length;e++){const[a,t]=c[e].split(\"=\");s[a]=decodeURIComponent(t)}return s}(l||\"\");\"GET\"===a&&Object.assign(o,e.data);const r=Object.assign({},e,{url:i,params:o});\"GET\"===a&&Object.assign(r,{data:o});let h=c.search(e);if(!h)if(r.params){const e=Object.assign({},r);e.url=`${r.url}?${Object.keys(r.params).map((e=>`${e}=${r.params[e]}`)).join(\"&\")}`,delete e.params,h=c.search(r,e)}else h=c.search(r);return h?(console.log(\"@@@@rule match\",h),e.__miniumMocked=!0,h.success?new s(h.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):h.fail?new s(void 0,h.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2025-05-08 22:01:22,764 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"3800a9df-66f3-40f3-b64d-0e7690435e65","result":{}}
[D 2025-05-08 22:01:22,768 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"6050f65e-c870-4175-bccd-143efd63a6ef","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2025-05-08 22:01:22,773 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"6050f65e-c870-4175-bccd-143efd63a6ef","result":{"result":{"accountInfo":{"appId":"wxe9dbb4816baa7be1","nickname":"","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2025-05-08 22:01:22,773 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"3dc98768-8628-491a-8e54-0c1a63106978","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:01:22,780 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"3dc98768-8628-491a-8e54-0c1a63106978","result":{"result":{"batteryLevel":39,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:01:22,780 minium minitest#218 init_miniprogram] end init miniprogram
[I 2025-05-08 22:01:22,782 minium minitest#432 _miniSetUp] =========Current case: test_login=========
[I 2025-05-08 22:01:22,782 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_login
[I 2025-05-08 22:01:22,782 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:01:22,782 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:01:22,782 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:01:22,782 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:01:22,782 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[D 2025-05-08 22:01:22,782 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"7a42b6e4-5e6a-4a80-af97-cd769d321cc1","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2025-05-08 22:01:22,794 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"7a42b6e4-5e6a-4a80-af97-cd769d321cc1","result":{"result":{"path":"pages/login/login","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2025-05-08 22:01:22,797 minium.App2064 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:01:22,798 minium.Conn8080 connection#427 _safely_send] ASYNC_SEND > [2681212918080]{"id":"8181690b-6220-4c15-8ad4-1c86de7dfd75","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:01:22,798 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:01:24,304 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746712884300]}}
[I 2025-05-08 22:01:24,309 minium.App2064 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746712884300]}
[D 2025-05-08 22:01:24,309 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"8181690b-6220-4c15-8ad4-1c86de7dfd75","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:01:24,309 minium.Conn8080 connection#704 _handle_async_msg] received async msg: 8181690b-6220-4c15-8ad4-1c86de7dfd75
[I 2025-05-08 22:01:24,314 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:01:24,314 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"2094fa6f-2da2-4469-a4cc-706db546554f","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:02:24,329 minium.App2064 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:02:24,329 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508220105\test_login\20250508220122782424\images\setup.png not exists
[I 2025-05-08 22:02:24,329 minium minitest#487 _miniSetUp] =========case: test_login start=========
[I 2025-05-08 22:02:24,329 minium minitest#788 _callTestMethod] call test method
[I 2025-05-08 22:02:24,329 minium page#716 _get_elements_by_css] try to get elements: button
[D 2025-05-08 22:02:24,329 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"d4229b40-7887-4faf-baa8-b418be37b902","method":"Page.getElements","params":{"selector":"button","pageId":2}}
[D 2025-05-08 22:02:24,353 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"d4229b40-7887-4faf-baa8-b418be37b902","result":{"elements":[{"elementId":"26180084-de7f-437e-ba98-1163c3d2d0b6","tagName":"button"}]}}
[I 2025-05-08 22:02:24,359 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000027044C812E0>]
[D 2025-05-08 22:02:24,359 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"7085e23f-9e8a-4cbc-82bd-20bdf55ae212","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"26180084-de7f-437e-ba98-1163c3d2d0b6","pageId":2}}
[D 2025-05-08 22:02:24,367 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"7085e23f-9e8a-4cbc-82bd-20bdf55ae212","result":{"properties":["立即登陆"]}}
[E 2025-05-08 22:02:24,368 minium minitest#793 _callTestMethod] test exception
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 12, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[I 2025-05-08 22:02:24,416 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:02:24,416 minium minitest#799 _miniTearDown] =========Current case Down: test_login=========
[I 2025-05-08 22:02:24,416 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:02:24,416 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"9f898b8f-7d84-48c3-8ee9-53ae71ccb9ee","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:02:26,424 minium.App2064 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:02:26,424 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508220105\test_login\20250508220122782424\images\teardown.png not exists
[I 2025-05-08 22:02:26,424 minium page#716 _get_elements_by_css] try to get elements: page
[D 2025-05-08 22:02:26,424 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"4c6ce092-9df3-4962-8546-ce47be0317a2","method":"Page.getElements","params":{"selector":"page","pageId":2}}
[D 2025-05-08 22:02:26,440 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"4c6ce092-9df3-4962-8546-ce47be0317a2","result":{"elements":[{"elementId":"c734c994-db14-4844-ba87-11f89712ef1c","tagName":"body","nodeId":"bd6b3b7d"}]}}
[I 2025-05-08 22:02:26,441 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x0000027044C81070>]
[D 2025-05-08 22:02:26,444 minium.Conn8080 connection#427 _safely_send] SEND > [2681212918080]{"id":"38e1d206-9e6c-42de-aefb-ce8e38500c65","method":"Element.getWXML","params":{"type":"inner","elementId":"c734c994-db14-4844-ba87-11f89712ef1c","pageId":2,"nodeId":"bd6b3b7d"}}
[D 2025-05-08 22:02:26,456 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"38e1d206-9e6c-42de-aefb-ce8e38500c65","result":{"wxml":"<view class=\"container\"><image class=\"full-bg\" mode=\"aspectFill\" src=\"../../images/login-bg.jpg\" role=\"img\"></image><view class=\"bottom-mask\"></view><view class=\"nav-bar\"><text class=\"system-title\">座位预约系统</text></view><view class=\"welcome-container\"><text class=\"welcome-text\">欢迎进入</text><text class=\"system-name\">座位预约系统</text><view class=\"line\"></view></view><view class=\"login-area\"><view class=\"avatar-container\"><imag
[D 2025-05-08 22:02:26,464 minium page#244 pretty_wxml] pretty wxml error
[I 2025-05-08 22:02:26,479 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:02:26,479 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[E 2025-05-08 22:02:26,495 minium utils#166 wrapper] catch error: 'gbk' codec can't decode byte 0xa6 in position 627: illegal multibyte sequence
[E 2025-05-08 22:02:26,495 minium assertbase#390 _get_stack_info] <bound method SeatReservationAutoTest.test_login of <seat_reservation_auto_test.SeatReservationAutoTest testMethod=test_login>>
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 12, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[W 2025-05-08 22:02:26,495 minium assertbase#354 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220105', 'case_output': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs\\20250508220105\\test_login\\20250508220122782424'}
[W 2025-05-08 22:02:26,495 minium assertbase#355 _log_info_when_error] build info: {'version': '1.6.0', 'revision': '33ce5b50b34ec18c51c054a7cc1bdfb3ab0a451b', 'branch': 'master', 'update_at': '2024-10-09 21:08:56'}
[W 2025-05-08 22:02:26,495 minium minitest#1029 _log_info_when_error] mini: 基础库2.20.1, 开发者工具1.06.2412050
[W 2025-05-08 22:02:26,511 minium minitest#1031 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x0000027044BE59A0>
[I 2025-05-08 22:02:26,511 minium miniresult#143 print_shot_msg] 
====================case num:1, failed num:0, error num:1====================SeatReservationAutoTest:test_login has error:
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 12, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found

-----------------------------------------------------------------------------

[I 2025-05-08 22:02:36,523 minium.SESSION session#67 run] case queue is empty, test complete, release None
[I 2025-05-08 22:02:36,523 minium minitest#109 reset_minium] reset_minium
[D 2025-05-08 22:02:36,523 minium.Conn8080 connection#427 _safely_send] ASYNC_SEND > [2681212918080]{"id":"46baccbf-23e4-4ac5-9dcc-0c03b9699ed2","method":"Tool.close","params":{}}
[D 2025-05-08 22:02:36,523 minium.Conn8080 connection#660 __on_message] RECV < [2681212918080]{"id":"46baccbf-23e4-4ac5-9dcc-0c03b9699ed2","result":{}}
[I 2025-05-08 22:02:36,523 minium.Conn8080 connection#704 _handle_async_msg] received async msg: 46baccbf-23e4-4ac5-9dcc-0c03b9699ed2, maybe command ignore response
[E 2025-05-08 22:02:36,554 minium.Conn8080 connection#642 _on_error] Connection to remote host was lost.
[I 2025-05-08 22:02:36,554 minium.Conn8080 connection#377 _ws_run_forever] websocket run forever shutdown
[I 2025-05-08 22:02:37,533 minium minitest#89 reset_native] reset_native
[I 2025-05-08 22:02:37,533 minium basenative#59 wrapper] call IdeNative.stop_wechat
[I 2025-05-08 22:02:37,533 minium basenative#63 wrapper] call IdeNative.stop_wechat end None
[I 2025-05-08 22:02:37,533 minium basenative#59 wrapper] call IdeNative.release
[I 2025-05-08 22:02:37,533 minium basenative#59 wrapper] call BaseNative.release
[I 2025-05-08 22:02:37,533 minium basenative#250 release] Native release
[I 2025-05-08 22:02:37,533 minium basenative#59 wrapper] call BaseNative.release_auto_authorize
[I 2025-05-08 22:02:37,533 minium basenative#63 wrapper] call BaseNative.release_auto_authorize end None
[I 2025-05-08 22:02:37,533 minium basenative#63 wrapper] call BaseNative.release end None
[I 2025-05-08 22:02:37,533 minium basenative#63 wrapper] call IdeNative.release end None
[D 2025-05-08 22:06:48,972 minium loader#137 load_from_module] Loading module: seat_reservation_auto_test
[D 2025-05-08 22:06:48,972 minium loader#141 load_from_module] put module[seat_reservation_auto_test] into queue
[I 2025-05-08 22:06:48,987 minium loader#300 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220648'}

[D 2025-05-08 22:06:49,932 minium minitest#327 _miniClassSetUp] =====================
[D 2025-05-08 22:06:49,932 minium minitest#328 _miniClassSetUp] Testing class：SeatReservationAutoTest
[D 2025-05-08 22:06:49,932 minium minitest#329 _miniClassSetUp] =====================
[I 2025-05-08 22:06:49,932 minium minitest#202 init_miniprogram] start init miniprogram
[I 2025-05-08 22:06:49,932 minium basenative#59 wrapper] call IdeNative.start_wechat
[I 2025-05-08 22:06:49,947 minium basenative#63 wrapper] call IdeNative.start_wechat end None
[D 2025-05-08 22:06:49,947 minium wx_minium#118 __init__] {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220648'}
[I 2025-05-08 22:06:49,947 minium wx_minium#738 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2025-05-08 22:06:49,947 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\zhaotong\SeatReservation" --auto-port 9420
[I 2025-05-08 22:06:52,887 minium minium_object#101 _do_shell] err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:51229
- preparing
- Fetching AppID (wxe9dbb4816baa7be1) permissions
√ Using AppID: wxe9dbb4816baa7be1
√ auto

[I 2025-05-08 22:06:52,887 minium minium_object#102 _do_shell] out:

[I 2025-05-08 22:07:02,889 minium wx_minium#835 connect_dev_tool] Trying to connect Dev tool ...
[I 2025-05-08 22:07:03,367 minium.Conn3840 connection#352 _connect] connect to WebChatTools successfully
[D 2025-05-08 22:07:03,367 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"78a2d23b-1dcc-469b-a640-d8c982daca5d","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:07:03,367 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"78a2d23b-1dcc-469b-a640-d8c982daca5d","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[D 2025-05-08 22:07:03,367 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"8ea0ca1c-84a2-4a07-a6cf-ac4d5410621d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:07:04,108 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"method":"App.initialized","params":{}}
[W 2025-05-08 22:07:04,108 minium.Conn3840 connection#330 notify] no observer listening event App.initialized
[D 2025-05-08 22:07:04,117 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"8ea0ca1c-84a2-4a07-a6cf-ac4d5410621d","result":{"result":{"batteryLevel":37,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[D 2025-05-08 22:07:04,120 minium.App3632 app#618 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2025-05-08 22:07:04,120 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"18930b57-0c40-48b3-9f52-6ff9a1240fd2","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2025-05-08 22:07:04,120 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"18930b57-0c40-48b3-9f52-6ff9a1240fd2","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2025-05-08 22:07:04,131 minium.Conn3840 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:07:04,133 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"318411d4-8471-496c-99a2-e369f815ff65","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2025-05-08 22:07:04,138 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"318411d4-8471-496c-99a2-e369f815ff65","result":{}}
[D 2025-05-08 22:07:04,138 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"4e05dfa7-5711-4191-805a-643b46b43ed9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            var c = getCurrentPages().pop()\n            if (c && c.__wxWebviewId__ == options.webviewId) options.renderer = c.renderer\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2025-05-08 22:07:04,140 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"4e05dfa7-5711-4191-805a-643b46b43ed9","result":{}}
[D 2025-05-08 22:07:04,145 minium.App3632 app#618 _evaluate_js] evaluate js file utils [ALL]
[D 2025-05-08 22:07:04,147 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"a2a06b6d-0c53-4dd1-a170-fb014e86344a","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),l=Object.getOwnPropertyDescriptor(t,r);let u=!1;if(n[r])o[r]&&(u=!0);else{let e,i=!1;l?l.get?(u=!0,e=l.get):(i=!0,e=l.value):e=t[r],e&&(s[r]=i,o[r]=u,n[r]=e)}return u?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),l=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),l?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":if(e===t)return!0;\"*\"===e&&(e=\".*\");try{return!!new RegExp(e).exec(t)}catch(e){return!1}case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}unshift(e){this.rule_list.unshift(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(...e){for(let o of e)for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,o))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2025-05-08 22:07:04,153 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"a2a06b6d-0c53-4dd1-a170-fb014e86344a","result":{}}
[D 2025-05-08 22:07:04,153 minium.App3632 app#618 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2025-05-08 22:07:04,155 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"7b159c6f-b29c-461b-9df8-26f120a61d39","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);if(!g&&(g=global.__minium__.setSrcMethod(n,c),void 0===g))return void(_.get(n)[c]=!0);global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2025-05-08 22:07:04,155 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"7b159c6f-b29c-461b-9df8-26f120a61d39","result":{}}
[D 2025-05-08 22:07:04,161 minium.App3632 app#618 _evaluate_js] evaluate js file requestStack [ALL]
[D 2025-05-08 22:07:04,163 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"f7e6ef9c-eb15-4b6c-b190-a3dbb1feac3e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):\"empty stack\"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,r){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}","args":[]}}
[D 2025-05-08 22:07:04,173 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"f7e6ef9c-eb15-4b6c-b190-a3dbb1feac3e","result":{"result":true}}
[D 2025-05-08 22:07:04,176 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"14d89831-bcd5-4245-9f20-250be9adc626","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2025-05-08 22:07:04,180 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"14d89831-bcd5-4245-9f20-250be9adc626","result":{"result":{"pages":["pages/login/login","pages/user/home/home"],"tabBar":[]}}}
[D 2025-05-08 22:07:04,182 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"ee695f72-0428-45b5-8e12-99b54ef91323","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2025-05-08 22:07:04,185 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"ee695f72-0428-45b5-8e12-99b54ef91323","result":{"result":{"miniProgram":{"appId":"wxe9dbb4816baa7be1","envVersion":"develop","version":""}}}}
[D 2025-05-08 22:07:04,186 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"8a120d28-234a-4ffb-8aae-5a0f2dab84cd","method":"App.addBinding","params":{"name":"navigateTo_before_global"}}
[D 2025-05-08 22:07:04,190 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"8a120d28-234a-4ffb-8aae-5a0f2dab84cd","result":{}}
[D 2025-05-08 22:07:04,191 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"895a7a23-c167-4de1-bc9c-d81e41a262ab","method":"App.addBinding","params":{"name":"redirectTo_before_global"}}
[D 2025-05-08 22:07:04,195 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"895a7a23-c167-4de1-bc9c-d81e41a262ab","result":{}}
[D 2025-05-08 22:07:04,197 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"ea3379d1-ed04-4762-b568-e94fc867ef91","method":"App.addBinding","params":{"name":"switchTab_before_global"}}
[D 2025-05-08 22:07:04,200 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"ea3379d1-ed04-4762-b568-e94fc867ef91","result":{}}
[D 2025-05-08 22:07:04,203 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"9cf601b9-36a2-45da-b33e-012b184cf2e3","method":"App.addBinding","params":{"name":"navigateBack_before_global"}}
[D 2025-05-08 22:07:04,206 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"9cf601b9-36a2-45da-b33e-012b184cf2e3","result":{}}
[D 2025-05-08 22:07:04,206 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"55aecda3-f3a9-48e9-b0f3-b9f9aa25e562","method":"App.addBinding","params":{"name":"reLaunch_before_global"}}
[D 2025-05-08 22:07:04,210 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"55aecda3-f3a9-48e9-b0f3-b9f9aa25e562","result":{}}
[D 2025-05-08 22:07:04,212 minium.App3632 app#618 _evaluate_js] evaluate js file hookNavigation [ALL]
[D 2025-05-08 22:07:04,213 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d77e7b84-03fb-4207-b9a0-96c98b26d5f3","method":"App.callFunction","params":{"functionDeclaration":"function hookNavigation(){if(global.__minium__.navigationHooked)return!0;global.__minium__.navigationHooked=!0;const e=\"global\",a=Object.defineProperties;function o(e){switch(e){case\"navigateTo_before_global\":return\"function\"==typeof navigateTo_before_global?navigateTo_before_global:void 0;case\"redirectTo_before_global\":return\"function\"==typeof redirectTo_before_global?redirectTo_before_global:void 0;case\"switchTab_before_global\":return\"function\"==typeof switchTab_before_global?switchTab_before_global:void 0;case\"navigateBack_before_global\":return\"function\"==typeof navigateBack_before_global?navigateBack_before_global:void 0;case\"reLaunch_before_global\":return\"function\"==typeof reLaunch_before_global?reLaunch_before_global:void 0;default:return}}function t(e){const a=o(e);return a||function(){const a=o(e);return a&&a(...arguments)}}global.__minium__.getRealBindingMethod=o,global.__minium__.getBindingMethod=t;[\"navigateTo\",\"redirectTo\",\"switchTab\",\"navigateBack\",\"reLaunch\"].forEach((a=>{global.__minium__.setCall(a,e,{before:t(`${a}_before_${e}`)})})),wx.onAppRouteDone((function(){const o=getCurrentPages().pop();o&&function(o,r){if(!o||!0===o.__page_router_rewrited__)return;const n={navigateTo:o.navigateTo,redirectTo:o.redirectTo,switchTab:o.switchTab,navigateBack:o.navigateBack,reLaunch:o.reLaunch};a(o,{__page_router_rewrited__:{value:!0,writable:!0},navigateTo:{value(a={}){const i=t(`navigateTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.navigateTo.call(o,a)},writable:!0},redirectTo:{value(a={}){const i=t(`redirectTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.redirectTo.call(o,a)},writable:!0},switchTab:{value(a={}){const i=t(`switchTab_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.switchTab.call(o,a)},writable:!0},navigateBack:{value(a={}){const r=t(`navigateBack_before_${e}`);return r&&r(a),n.navigateBack.call(o,a)},writable:!0},reLaunch:{value(a={}){const i=t(`reLaunch_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.reLaunch.call(o,a)},writable:!0}}),console.warn(\"hook pageRouter succ\")}(o.pageRouter,o.route||o.__route__)}))}","args":[]}}
[D 2025-05-08 22:07:04,213 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d77e7b84-03fb-4207-b9a0-96c98b26d5f3","result":{}}
[D 2025-05-08 22:07:04,219 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"bdde536f-76d5-47b0-a930-f1592c1d1f8a","method":"App.addBinding","params":{"name":"showModal_before_1746713224219"}}
[D 2025-05-08 22:07:04,224 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"bdde536f-76d5-47b0-a930-f1592c1d1f8a","result":{}}
[D 2025-05-08 22:07:04,224 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"7c8e48a5-f0d1-4d46-9b85-734ebc00d1d2","method":"App.addBinding","params":{"name":"showModal_callback_1746713224219"}}
[D 2025-05-08 22:07:04,228 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"7c8e48a5-f0d1-4d46-9b85-734ebc00d1d2","result":{}}
[D 2025-05-08 22:07:04,230 minium.App3632 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:07:04,232 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"900800fa-5341-43df-a7f1-df8417ac0cc3","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1746713224219,after:undefined,callback:showModal_callback_1746713224219},!0):global.__minium__.delCall(_,l)}","args":["showModal",1746713224219,true]}}
[D 2025-05-08 22:07:04,237 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"900800fa-5341-43df-a7f1-df8417ac0cc3","result":{}}
[D 2025-05-08 22:07:04,237 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"0a14e5a8-86f6-44e4-bfb6-f5a3b0aa31da","method":"App.addBinding","params":{"name":"showToast_before_1746713224237"}}
[D 2025-05-08 22:07:04,241 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"0a14e5a8-86f6-44e4-bfb6-f5a3b0aa31da","result":{}}
[D 2025-05-08 22:07:04,241 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"af5e4cbf-01b3-4b51-b2d3-4e34c11dae2c","method":"App.addBinding","params":{"name":"showToast_callback_1746713224237"}}
[D 2025-05-08 22:07:04,246 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"af5e4cbf-01b3-4b51-b2d3-4e34c11dae2c","result":{}}
[D 2025-05-08 22:07:04,246 minium.App3632 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:07:04,246 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"f33d677f-b50f-4cc2-8ff9-df3d9a4de12f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1746713224237,after:undefined,callback:showToast_callback_1746713224237},!0):global.__minium__.delCall(_,l)}","args":["showToast",1746713224237,true]}}
[D 2025-05-08 22:07:04,249 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"f33d677f-b50f-4cc2-8ff9-df3d9a4de12f","result":{}}
[I 2025-05-08 22:07:04,256 minium wx_minium#893 _instantiate_app] new app instanst <minium.miniprogram.base_driver.app.App object at 0x000001A67CC328B0>, whether should relaunch: False
[D 2025-05-08 22:07:04,256 minium.Conn3840 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:07:04,256 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"068965bd-4c4b-4369-9193-105932737990","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:07:04,256 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"068965bd-4c4b-4369-9193-105932737990","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[I 2025-05-08 22:07:04,256 minium basenative#59 wrapper] call IdeNative.send
[D 2025-05-08 22:07:04,256 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"15b7c656-89a8-44d9-8213-054d9c8c1ed7","method":"Tool.native","params":{"method":"clickCoverView","data":{"data":{"nodetype":"text","text":"\u540c\u610f"}}}}
[D 2025-05-08 22:07:04,272 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"15b7c656-89a8-44d9-8213-054d9c8c1ed7","result":{"error":{"message":"clickCoverView failed"}}}
[W 2025-05-08 22:07:04,272 minium idenative#77 _send] handle clickCoverView error: clickCoverView failed
[I 2025-05-08 22:07:04,272 minium basenative#63 wrapper] call IdeNative.send end False
[D 2025-05-08 22:07:04,272 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"5956a372-9632-4b7d-917e-9609c7cba82e","method":"App.callWxMethod","params":{"method":"getPrivacySetting","args":[]}}
[D 2025-05-08 22:07:04,284 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"5956a372-9632-4b7d-917e-9609c7cba82e","error":{"message":"wx.getPrivacySetting not exists"}}
[E 2025-05-08 22:07:04,284 minium.Conn3840 connection#668 __on_message] [5956a372-9632-4b7d-917e-9609c7cba82e]: wx.getPrivacySetting not exists
[D 2025-05-08 22:07:04,286 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"a0206aff-7346-468f-b5bb-11cd50ba1ce4","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2025-05-08 22:07:04,291 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"a0206aff-7346-468f-b5bb-11cd50ba1ce4","result":{"result":false}}
[D 2025-05-08 22:07:04,291 minium.App3632 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:07:04,293 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"6807e31f-16aa-4e81-b0cb-a59565104c5c","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2025-05-08 22:07:04,303 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"6807e31f-16aa-4e81-b0cb-a59565104c5c","result":{}}
[D 2025-05-08 22:07:04,305 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d3315ddc-1d8a-4ceb-97ca-0330b30b1ed7","method":"App.getCurrentPage","params":{}}
[D 2025-05-08 22:07:04,324 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d3315ddc-1d8a-4ceb-97ca-0330b30b1ed7","result":{"pageId":1,"path":"pages/login/login","query":{}}}
[D 2025-05-08 22:07:04,326 minium.App3632 app#618 _evaluate_js] evaluate js file getCurrentPages [ALL]
[D 2025-05-08 22:07:04,327 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d76664ca-4da8-4bb4-9c8e-bebfee4df2fb","method":"App.callFunction","params":{"functionDeclaration":"function miniumGetCurrentPages(e){var r=getCurrentPages();return e&&(r=[r.pop()]),r=r.map((function(e){if(e){let{route:r}=e;const n=r.indexOf(\"__plugin__/\");return n>-1&&(r=\"plugin-private://\"+r.slice(n+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options,renderer:e.renderer}}})),e?r.pop():r}","args":[true]}}
[D 2025-05-08 22:07:04,333 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d76664ca-4da8-4bb4-9c8e-bebfee4df2fb","result":{"result":{"pageId":1,"path":"pages/login/login","query":{}}}}
[D 2025-05-08 22:07:04,334 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"99cc30ac-db75-4076-8880-358ba85032c4","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2025-05-08 22:07:04,733 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"99cc30ac-db75-4076-8880-358ba85032c4","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2025-05-08 22:07:04,734 minium.App3632 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:07:04,735 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"04749839-c569-4ce3-a977-49a448f97ee8","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniGetLocation(o,n,e){return new Promise((o=>{let t={errMsg:\"chooseLocation:ok\",name:\"\u817e\u8baf\u5fae\u4fe1\u603b\u90e8\",address:\"\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\",latitude:23.12463,longitude:113.36199},i={errMsg:\"chooseLocation:fail cancel\"},c={errMsg:\"chooseLocation:fail auth deny\"},a={};for(let o in t)void 0!==n[o]&&(t[o]=n[o]);for(let o in e)a[o]=Object.assign({},t,e[o]);wx.authorize({scope:\"scope.userLocation\",success:()=>function(){let n={\"\u786e\u5b9a\":function(){return o(t),t}};n[t.name]=function(){return o(t),t};for(let e in a)n[e]=function(){return o(a[e]),a[e]};n[\"\u53d6\u6d88\"]=function(){return o(i),i},global.__minium__.mock_map_modal(n)}(),fail:()=>(o(c),c)}),console.warn(\"[minium] mock wx.chooseLocation, you can use `native.allow_get_location` to handle it\")}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["chooseLocation",[{},{}]]}}
[D 2025-05-08 22:07:04,739 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"04749839-c569-4ce3-a977-49a448f97ee8","result":{}}
[D 2025-05-08 22:07:04,739 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"35276f7b-c019-49c1-8cbd-504bea8162e9","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const a=(e.method||\"GET\").toUpperCase(),t=e.url,[i,l]=t.split(\"?\"),o=function(e){if(!(e=e.split(\"#\")[0]))return{};const s={},c=e.split(\"&\");for(let e=0;e<c.length;e++){const[a,t]=c[e].split(\"=\");s[a]=decodeURIComponent(t)}return s}(l||\"\");\"GET\"===a&&Object.assign(o,e.data);const r=Object.assign({},e,{url:i,params:o});\"GET\"===a&&Object.assign(r,{data:o});let h=c.search(e);if(!h)if(r.params){const e=Object.assign({},r);e.url=`${r.url}?${Object.keys(r.params).map((e=>`${e}=${r.params[e]}`)).join(\"&\")}`,delete e.params,h=c.search(r,e)}else h=c.search(r);return h?(console.log(\"@@@@rule match\",h),e.__miniumMocked=!0,h.success?new s(h.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):h.fail?new s(void 0,h.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2025-05-08 22:07:04,744 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"35276f7b-c019-49c1-8cbd-504bea8162e9","result":{}}
[D 2025-05-08 22:07:04,747 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"4e7a1836-4c89-4675-80a9-ff430bdd3eb9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2025-05-08 22:07:04,750 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"4e7a1836-4c89-4675-80a9-ff430bdd3eb9","result":{"result":{"accountInfo":{"appId":"wxe9dbb4816baa7be1","nickname":"","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2025-05-08 22:07:04,750 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"e4c089d4-548c-46a1-87ef-24cb784d4c05","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:07:04,755 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"e4c089d4-548c-46a1-87ef-24cb784d4c05","result":{"result":{"batteryLevel":37,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:07:04,755 minium minitest#218 init_miniprogram] end init miniprogram
[I 2025-05-08 22:07:04,757 minium minitest#432 _miniSetUp] =========Current case: test_get_system_info=========
[I 2025-05-08 22:07:04,757 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_get_system_info
[I 2025-05-08 22:07:04,757 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:07:04,757 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:07:04,757 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:07:04,757 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:07:04,757 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[D 2025-05-08 22:07:04,757 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d0a4d48d-0074-44fd-be62-bfe9cd1b188b","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2025-05-08 22:07:04,769 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d0a4d48d-0074-44fd-be62-bfe9cd1b188b","result":{"result":{"path":"pages/login/login","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2025-05-08 22:07:04,771 minium.App3632 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:07:04,772 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1814569183840]{"id":"db892031-94cf-4581-8f00-8f962e65fa53","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:07:04,772 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:07:06,146 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746713226146]}}
[I 2025-05-08 22:07:06,154 minium.App3632 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746713226146]}
[D 2025-05-08 22:07:06,154 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"db892031-94cf-4581-8f00-8f962e65fa53","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:07:06,154 minium.Conn3840 connection#704 _handle_async_msg] received async msg: db892031-94cf-4581-8f00-8f962e65fa53
[I 2025-05-08 22:07:06,154 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:07:06,154 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d2cac1e9-4c1b-4906-b091-3ab980105f37","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:07:57,045 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d2cac1e9-4c1b-4906-b091-3ab980105f37","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:07:57,060 minium minitest#487 _miniSetUp] =========case: test_get_system_info start=========
[I 2025-05-08 22:07:57,060 minium minitest#788 _callTestMethod] call test method
[D 2025-05-08 22:07:57,060 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d39975ee-e11c-406b-9f6b-bcd0b3aa9fc8","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:07:57,144 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d39975ee-e11c-406b-9f6b-bcd0b3aa9fc8","result":{"result":{"batteryLevel":36,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:07:57,382 minium minitest#897 capture] capture assertIn-success.png
[D 2025-05-08 22:07:57,382 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"a78f7ea1-fa1f-4cd1-9a62-27c741c144aa","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:07:59,031 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"a78f7ea1-fa1f-4cd1-9a62-27c741c144aa","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:07:59,047 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:07:59,047 minium minitest#799 _miniTearDown] =========Current case Down: test_get_system_info=========
[I 2025-05-08 22:07:59,047 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:07:59,047 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"73bac1fe-9afe-4c28-8f18-976a26914cd3","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:08:02,137 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"73bac1fe-9afe-4c28-8f18-976a26914cd3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:08:02,153 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:08:02,153 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:08:02,157 minium minitest#432 _miniSetUp] =========Current case: test_login=========
[I 2025-05-08 22:08:02,157 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_login
[I 2025-05-08 22:08:02,157 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:08:02,157 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:08:02,157 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:08:02,157 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:08:02,157 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[I 2025-05-08 22:08:02,157 minium.App3632 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:08:02,157 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1814569183840]{"id":"47c7662e-4f0d-4bd4-8bf2-5377ede1b9b1","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:08:02,173 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:08:03,316 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746713283305]}}
[I 2025-05-08 22:08:03,316 minium.App3632 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746713283305]}
[D 2025-05-08 22:08:03,316 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"47c7662e-4f0d-4bd4-8bf2-5377ede1b9b1","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:08:03,316 minium.Conn3840 connection#704 _handle_async_msg] received async msg: 47c7662e-4f0d-4bd4-8bf2-5377ede1b9b1
[I 2025-05-08 22:08:03,316 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:08:03,324 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"fb16685f-61eb-44b9-a777-64bd1323864b","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:08:18,532 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"fb16685f-61eb-44b9-a777-64bd1323864b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyMvduWIzkOJAgDXZn1/5+4O49zZudtOkNO2D4YAMIVkdWj7pOlkFzuJAgChivxP/7n/zIzM6MbLV8ArF8kb661AABgkMaIILnc4X0l973XtSKCNMCMRjMA7jA7l91GMwP0HJC0v7z23q/Xa+/tNPQdSBoBRIQZws3d56/6ho9ZmJlZRLj7fOi85mMkJNdaJEm6mQVJQw19XBb9O3cAbsYQFZbr/rpJThjoh/YTKWKZYS+YkwRMt+qHRkQ/FDV0kraM0OBEdSPJCJIXcgC5tDAYAJjjjv2YhZmRgH+jmdFs37evdV1eYyb5A531RrxR4/R5HxtEMPxl3WmIvHnscPfDO27mn6TTK4KWTGcmUmD8OS9LEuRXrFutw
[I 2025-05-08 22:08:18,540 minium minitest#487 _miniSetUp] =========case: test_login start=========
[I 2025-05-08 22:08:18,548 minium minitest#788 _callTestMethod] call test method
[I 2025-05-08 22:08:18,548 minium page#716 _get_elements_by_css] try to get elements: button
[D 2025-05-08 22:08:18,548 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"d6335341-808a-450f-af11-8273f6ae3d0b","method":"Page.getElements","params":{"selector":"button","pageId":4}}
[D 2025-05-08 22:08:18,560 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d6335341-808a-450f-af11-8273f6ae3d0b","result":{"elements":[{"elementId":"d7c7dcf1-b956-49d1-8d63-27f01be4ff12","tagName":"button"}]}}
[I 2025-05-08 22:08:18,560 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001A67CCB72B0>]
[D 2025-05-08 22:08:18,560 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"f0e841ef-9f74-4754-abf3-e5e6fbf94099","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"d7c7dcf1-b956-49d1-8d63-27f01be4ff12","pageId":4}}
[D 2025-05-08 22:08:18,571 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"f0e841ef-9f74-4754-abf3-e5e6fbf94099","result":{"properties":["立即登陆"]}}
[E 2025-05-08 22:08:18,572 minium minitest#793 _callTestMethod] test exception
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 16, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[I 2025-05-08 22:08:18,573 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:08:18,573 minium minitest#799 _miniTearDown] =========Current case Down: test_login=========
[I 2025-05-08 22:08:18,573 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:08:18,573 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"682b364a-3ca7-4f0c-b56a-e82f0291ed56","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:08:19,648 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"682b364a-3ca7-4f0c-b56a-e82f0291ed56","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyMvduWIzkOJAgDXZn1/5+4O49zZudtOkNO2D4YAMIVkdWj7pOlkFzuJAgChivxP/7n/zIzM6MbLV8ArF8kb661AABgkMaIILnc4X0l973XtSKCNMCMRjMA7jA7l91GMwP0HJC0v7z23q/Xa+/tNPQdSBoBRIQZws3d56/6ho9ZmJlZRLj7fOi85mMkJNdaJEm6mQVJQw19XBb9O3cAbsYQFZbr/rpJThjoh/YTKWKZYS+YkwRMt+qHRkQ/FDV0kraM0OBEdSPJCJIXcgC5tDAYAJjjjv2YhZmRgH+jmdFs37evdV1eYyb5A531RrxR4/R5HxtEMPxl3WmIvHnscPfDO27mn6TTK4KWTGcmUmD8OS9LEuRXrFutw
[I 2025-05-08 22:08:19,648 minium page#716 _get_elements_by_css] try to get elements: page
[D 2025-05-08 22:08:19,648 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"cec3f597-8ead-489c-a5cc-5924890e49f2","method":"Page.getElements","params":{"selector":"page","pageId":4}}
[D 2025-05-08 22:08:19,668 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"cec3f597-8ead-489c-a5cc-5924890e49f2","result":{"elements":[{"elementId":"09a06e4b-3372-4687-9d7c-a77cb2534e60","tagName":"body","nodeId":"5ce5bf07"}]}}
[I 2025-05-08 22:08:19,672 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x000001A67CC98FD0>]
[D 2025-05-08 22:08:19,672 minium.Conn3840 connection#427 _safely_send] SEND > [1814569183840]{"id":"4998c3d6-3aec-4639-b615-43749b0da633","method":"Element.getWXML","params":{"type":"inner","elementId":"09a06e4b-3372-4687-9d7c-a77cb2534e60","pageId":4,"nodeId":"5ce5bf07"}}
[D 2025-05-08 22:08:19,684 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"4998c3d6-3aec-4639-b615-43749b0da633","result":{"wxml":"<view class=\"container\"><image class=\"full-bg\" mode=\"aspectFill\" src=\"../../images/login-bg.jpg\" role=\"img\"></image><view class=\"bottom-mask\"></view><view class=\"nav-bar\"><text class=\"system-title\">座位预约系统</text></view><view class=\"welcome-container\"><text class=\"welcome-text\">欢迎进入</text><text class=\"system-name\">座位预约系统</text><view class=\"line\"></view></view><view class=\"login-area\"><view class=\"avatar-container\"><imag
[D 2025-05-08 22:08:19,694 minium page#244 pretty_wxml] pretty wxml error
[I 2025-05-08 22:08:19,709 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:08:19,709 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[E 2025-05-08 22:08:19,725 minium utils#166 wrapper] catch error: 'gbk' codec can't decode byte 0xa6 in position 627: illegal multibyte sequence
[E 2025-05-08 22:08:19,725 minium assertbase#390 _get_stack_info] <bound method SeatReservationAutoTest.test_login of <seat_reservation_auto_test.SeatReservationAutoTest testMethod=test_login>>
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 16, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[W 2025-05-08 22:08:19,725 minium assertbase#354 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220648', 'case_output': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs\\20250508220648\\test_login\\20250508220802157577'}
[W 2025-05-08 22:08:19,725 minium assertbase#355 _log_info_when_error] build info: {'version': '1.6.0', 'revision': '33ce5b50b34ec18c51c054a7cc1bdfb3ab0a451b', 'branch': 'master', 'update_at': '2024-10-09 21:08:56'}
[W 2025-05-08 22:08:19,725 minium minitest#1029 _log_info_when_error] mini: 基础库2.20.1, 开发者工具1.06.2412050
[W 2025-05-08 22:08:19,725 minium minitest#1031 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x000001A67CC06B50>
[I 2025-05-08 22:08:19,725 minium miniresult#143 print_shot_msg] 
====================case num:2, failed num:0, error num:1====================SeatReservationAutoTest:test_login has error:
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 16, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found

-----------------------------------------------------------------------------

[I 2025-05-08 22:08:29,748 minium.SESSION session#67 run] case queue is empty, test complete, release None
[I 2025-05-08 22:08:29,748 minium minitest#109 reset_minium] reset_minium
[D 2025-05-08 22:08:29,748 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1814569183840]{"id":"d2365a72-58b8-423c-a8a3-fba3afb3a566","method":"Tool.close","params":{}}
[D 2025-05-08 22:08:29,748 minium.Conn3840 connection#660 __on_message] RECV < [1814569183840]{"id":"d2365a72-58b8-423c-a8a3-fba3afb3a566","result":{}}
[I 2025-05-08 22:08:29,748 minium.Conn3840 connection#704 _handle_async_msg] received async msg: d2365a72-58b8-423c-a8a3-fba3afb3a566, maybe command ignore response
[E 2025-05-08 22:08:29,779 minium.Conn3840 connection#642 _on_error] Connection to remote host was lost.
[I 2025-05-08 22:08:29,779 minium.Conn3840 connection#377 _ws_run_forever] websocket run forever shutdown
[I 2025-05-08 22:08:30,751 minium minitest#89 reset_native] reset_native
[I 2025-05-08 22:08:30,751 minium basenative#59 wrapper] call IdeNative.stop_wechat
[I 2025-05-08 22:08:30,751 minium basenative#63 wrapper] call IdeNative.stop_wechat end None
[I 2025-05-08 22:08:30,751 minium basenative#59 wrapper] call IdeNative.release
[I 2025-05-08 22:08:30,751 minium basenative#59 wrapper] call BaseNative.release
[I 2025-05-08 22:08:30,751 minium basenative#250 release] Native release
[I 2025-05-08 22:08:30,751 minium basenative#59 wrapper] call BaseNative.release_auto_authorize
[I 2025-05-08 22:08:30,751 minium basenative#63 wrapper] call BaseNative.release_auto_authorize end None
[I 2025-05-08 22:08:30,751 minium basenative#63 wrapper] call BaseNative.release end None
[I 2025-05-08 22:08:30,751 minium basenative#63 wrapper] call IdeNative.release end None
[D 2025-05-08 22:09:29,638 minium loader#137 load_from_module] Loading module: seat_reservation_auto_test
[D 2025-05-08 22:09:29,638 minium loader#141 load_from_module] put module[seat_reservation_auto_test] into queue
[I 2025-05-08 22:09:29,653 minium loader#300 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220929'}

[D 2025-05-08 22:09:30,579 minium minitest#327 _miniClassSetUp] =====================
[D 2025-05-08 22:09:30,579 minium minitest#328 _miniClassSetUp] Testing class：SeatReservationAutoTest
[D 2025-05-08 22:09:30,579 minium minitest#329 _miniClassSetUp] =====================
[I 2025-05-08 22:09:30,579 minium minitest#202 init_miniprogram] start init miniprogram
[I 2025-05-08 22:09:30,579 minium basenative#59 wrapper] call IdeNative.start_wechat
[I 2025-05-08 22:09:30,579 minium basenative#63 wrapper] call IdeNative.start_wechat end None
[D 2025-05-08 22:09:30,579 minium wx_minium#118 __init__] {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220929'}
[I 2025-05-08 22:09:30,579 minium wx_minium#738 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2025-05-08 22:09:30,579 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\zhaotong\SeatReservation" --auto-port 9420
[I 2025-05-08 22:09:37,033 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 51229, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:55623
- preparing
- Fetching AppID (wxe9dbb4816baa7be1) permissions
√ Using AppID: wxe9dbb4816baa7be1
√ auto

[I 2025-05-08 22:09:37,041 minium minium_object#102 _do_shell] out:

[I 2025-05-08 22:09:47,053 minium wx_minium#835 connect_dev_tool] Trying to connect Dev tool ...
[I 2025-05-08 22:09:47,558 minium.Conn1648 connection#352 _connect] connect to WebChatTools successfully
[D 2025-05-08 22:09:47,558 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"a16ac18d-17b0-41cf-b665-e8c087868ef5","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:09:47,566 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"a16ac18d-17b0-41cf-b665-e8c087868ef5","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[D 2025-05-08 22:09:47,566 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"223fe302-4c71-4f64-bab6-40356d1f4cb3","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:09:51,348 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"method":"App.initialized","params":{}}
[W 2025-05-08 22:09:51,348 minium.Conn1648 connection#330 notify] no observer listening event App.initialized
[D 2025-05-08 22:09:51,353 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"223fe302-4c71-4f64-bab6-40356d1f4cb3","result":{"result":{"batteryLevel":35,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[D 2025-05-08 22:09:51,356 minium.App1440 app#618 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2025-05-08 22:09:51,356 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"14bc8430-6150-418f-8373-1dd6d0d47bae","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2025-05-08 22:09:51,434 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"14bc8430-6150-418f-8373-1dd6d0d47bae","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2025-05-08 22:09:51,434 minium.Conn1648 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:09:51,434 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"f2f9084d-b48c-432d-9c2d-643c8eefaa38","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2025-05-08 22:09:51,450 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"f2f9084d-b48c-432d-9c2d-643c8eefaa38","result":{}}
[D 2025-05-08 22:09:51,450 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"09e06549-2d7a-45e8-9f50-86a65f786e84","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            var c = getCurrentPages().pop()\n            if (c && c.__wxWebviewId__ == options.webviewId) options.renderer = c.renderer\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2025-05-08 22:09:51,458 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"09e06549-2d7a-45e8-9f50-86a65f786e84","result":{}}
[D 2025-05-08 22:09:51,458 minium.App1440 app#618 _evaluate_js] evaluate js file utils [ALL]
[D 2025-05-08 22:09:51,458 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"5802c8e6-62f6-453e-b33c-d2cb96cbd6e8","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),l=Object.getOwnPropertyDescriptor(t,r);let u=!1;if(n[r])o[r]&&(u=!0);else{let e,i=!1;l?l.get?(u=!0,e=l.get):(i=!0,e=l.value):e=t[r],e&&(s[r]=i,o[r]=u,n[r]=e)}return u?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),l=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),l?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":if(e===t)return!0;\"*\"===e&&(e=\".*\");try{return!!new RegExp(e).exec(t)}catch(e){return!1}case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}unshift(e){this.rule_list.unshift(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(...e){for(let o of e)for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,o))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2025-05-08 22:09:51,466 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"5802c8e6-62f6-453e-b33c-d2cb96cbd6e8","result":{}}
[D 2025-05-08 22:09:51,466 minium.App1440 app#618 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2025-05-08 22:09:51,466 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"9cfd8fed-50d7-449e-9d64-8d68b704bcb7","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);if(!g&&(g=global.__minium__.setSrcMethod(n,c),void 0===g))return void(_.get(n)[c]=!0);global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2025-05-08 22:09:51,480 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"9cfd8fed-50d7-449e-9d64-8d68b704bcb7","result":{}}
[D 2025-05-08 22:09:51,480 minium.App1440 app#618 _evaluate_js] evaluate js file requestStack [ALL]
[D 2025-05-08 22:09:51,480 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"c3beded8-72be-4962-b4e8-8feee118b7bf","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):\"empty stack\"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,r){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}","args":[]}}
[D 2025-05-08 22:09:51,485 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"c3beded8-72be-4962-b4e8-8feee118b7bf","result":{"result":true}}
[D 2025-05-08 22:09:51,485 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"dc19fad6-c5cc-4ce6-8665-c53fe47416dc","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2025-05-08 22:09:51,493 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"dc19fad6-c5cc-4ce6-8665-c53fe47416dc","result":{"result":{"pages":["pages/login/login","pages/user/home/home"],"tabBar":[]}}}
[D 2025-05-08 22:09:51,493 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"a59800ea-2f61-4afa-8b88-38ea62ec2569","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2025-05-08 22:09:51,493 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"a59800ea-2f61-4afa-8b88-38ea62ec2569","result":{"result":{"miniProgram":{"appId":"wxe9dbb4816baa7be1","envVersion":"develop","version":""}}}}
[D 2025-05-08 22:09:51,493 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"397dded1-b32e-47ad-b89f-8e5d52d45ba1","method":"App.addBinding","params":{"name":"navigateTo_before_global"}}
[D 2025-05-08 22:09:51,501 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"397dded1-b32e-47ad-b89f-8e5d52d45ba1","result":{}}
[D 2025-05-08 22:09:51,501 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"45bd50e4-f396-45a3-bf89-5b71b8892da0","method":"App.addBinding","params":{"name":"redirectTo_before_global"}}
[D 2025-05-08 22:09:51,517 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"45bd50e4-f396-45a3-bf89-5b71b8892da0","result":{}}
[D 2025-05-08 22:09:51,517 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"0b307762-5b05-46f3-945b-0e2d4ad51e36","method":"App.addBinding","params":{"name":"switchTab_before_global"}}
[D 2025-05-08 22:09:51,524 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"0b307762-5b05-46f3-945b-0e2d4ad51e36","result":{}}
[D 2025-05-08 22:09:51,524 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"7b50373e-0cbf-406a-9995-76b540c468f5","method":"App.addBinding","params":{"name":"navigateBack_before_global"}}
[D 2025-05-08 22:09:51,532 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"7b50373e-0cbf-406a-9995-76b540c468f5","result":{}}
[D 2025-05-08 22:09:51,532 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"72326bc2-b25e-43b5-85de-687d327be8f5","method":"App.addBinding","params":{"name":"reLaunch_before_global"}}
[D 2025-05-08 22:09:51,532 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"72326bc2-b25e-43b5-85de-687d327be8f5","result":{}}
[D 2025-05-08 22:09:51,540 minium.App1440 app#618 _evaluate_js] evaluate js file hookNavigation [ALL]
[D 2025-05-08 22:09:51,540 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"e3a97bfd-7739-4de4-80a3-b13cbdac51b5","method":"App.callFunction","params":{"functionDeclaration":"function hookNavigation(){if(global.__minium__.navigationHooked)return!0;global.__minium__.navigationHooked=!0;const e=\"global\",a=Object.defineProperties;function o(e){switch(e){case\"navigateTo_before_global\":return\"function\"==typeof navigateTo_before_global?navigateTo_before_global:void 0;case\"redirectTo_before_global\":return\"function\"==typeof redirectTo_before_global?redirectTo_before_global:void 0;case\"switchTab_before_global\":return\"function\"==typeof switchTab_before_global?switchTab_before_global:void 0;case\"navigateBack_before_global\":return\"function\"==typeof navigateBack_before_global?navigateBack_before_global:void 0;case\"reLaunch_before_global\":return\"function\"==typeof reLaunch_before_global?reLaunch_before_global:void 0;default:return}}function t(e){const a=o(e);return a||function(){const a=o(e);return a&&a(...arguments)}}global.__minium__.getRealBindingMethod=o,global.__minium__.getBindingMethod=t;[\"navigateTo\",\"redirectTo\",\"switchTab\",\"navigateBack\",\"reLaunch\"].forEach((a=>{global.__minium__.setCall(a,e,{before:t(`${a}_before_${e}`)})})),wx.onAppRouteDone((function(){const o=getCurrentPages().pop();o&&function(o,r){if(!o||!0===o.__page_router_rewrited__)return;const n={navigateTo:o.navigateTo,redirectTo:o.redirectTo,switchTab:o.switchTab,navigateBack:o.navigateBack,reLaunch:o.reLaunch};a(o,{__page_router_rewrited__:{value:!0,writable:!0},navigateTo:{value(a={}){const i=t(`navigateTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.navigateTo.call(o,a)},writable:!0},redirectTo:{value(a={}){const i=t(`redirectTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.redirectTo.call(o,a)},writable:!0},switchTab:{value(a={}){const i=t(`switchTab_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.switchTab.call(o,a)},writable:!0},navigateBack:{value(a={}){const r=t(`navigateBack_before_${e}`);return r&&r(a),n.navigateBack.call(o,a)},writable:!0},reLaunch:{value(a={}){const i=t(`reLaunch_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.reLaunch.call(o,a)},writable:!0}}),console.warn(\"hook pageRouter succ\")}(o.pageRouter,o.route||o.__route__)}))}","args":[]}}
[D 2025-05-08 22:09:51,540 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"e3a97bfd-7739-4de4-80a3-b13cbdac51b5","result":{}}
[D 2025-05-08 22:09:51,548 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"f5de2025-22bc-431e-8d33-858d14f62f9d","method":"App.addBinding","params":{"name":"showModal_before_1746713391548"}}
[D 2025-05-08 22:09:51,548 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"f5de2025-22bc-431e-8d33-858d14f62f9d","result":{}}
[D 2025-05-08 22:09:51,548 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"49e81d23-129b-448f-bf58-cb61751ab89d","method":"App.addBinding","params":{"name":"showModal_callback_1746713391548"}}
[D 2025-05-08 22:09:51,548 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"49e81d23-129b-448f-bf58-cb61751ab89d","result":{}}
[D 2025-05-08 22:09:51,556 minium.App1440 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:09:51,556 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"8c201cb2-9d7e-46c3-b927-10378181025b","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1746713391548,after:undefined,callback:showModal_callback_1746713391548},!0):global.__minium__.delCall(_,l)}","args":["showModal",1746713391548,true]}}
[D 2025-05-08 22:09:51,556 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"8c201cb2-9d7e-46c3-b927-10378181025b","result":{}}
[D 2025-05-08 22:09:51,556 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"f0ee8529-36e0-467c-bf4b-d67e7a972018","method":"App.addBinding","params":{"name":"showToast_before_1746713391556"}}
[D 2025-05-08 22:09:51,564 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"f0ee8529-36e0-467c-bf4b-d67e7a972018","result":{}}
[D 2025-05-08 22:09:51,564 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"da618e8d-69db-4889-99fe-4581f20d07ab","method":"App.addBinding","params":{"name":"showToast_callback_1746713391556"}}
[D 2025-05-08 22:09:51,564 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"da618e8d-69db-4889-99fe-4581f20d07ab","result":{}}
[D 2025-05-08 22:09:51,564 minium.App1440 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:09:51,564 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"55efefdd-846e-4416-b234-d3a1e39773c1","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1746713391556,after:undefined,callback:showToast_callback_1746713391556},!0):global.__minium__.delCall(_,l)}","args":["showToast",1746713391556,true]}}
[D 2025-05-08 22:09:51,572 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"55efefdd-846e-4416-b234-d3a1e39773c1","result":{}}
[I 2025-05-08 22:09:51,575 minium wx_minium#893 _instantiate_app] new app instanst <minium.miniprogram.base_driver.app.App object at 0x00000145AAC818B0>, whether should relaunch: False
[D 2025-05-08 22:09:51,575 minium.Conn1648 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:09:51,577 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"65253d22-384a-4503-9a84-df158e9f668d","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:09:51,577 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"65253d22-384a-4503-9a84-df158e9f668d","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[I 2025-05-08 22:09:51,577 minium basenative#59 wrapper] call IdeNative.send
[D 2025-05-08 22:09:51,577 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"78366149-7c98-4d0c-a826-0ec1f21519ef","method":"Tool.native","params":{"method":"clickCoverView","data":{"data":{"nodetype":"text","text":"\u540c\u610f"}}}}
[D 2025-05-08 22:09:51,577 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"78366149-7c98-4d0c-a826-0ec1f21519ef","result":{"error":{"message":"clickCoverView failed"}}}
[W 2025-05-08 22:09:51,577 minium idenative#77 _send] handle clickCoverView error: clickCoverView failed
[I 2025-05-08 22:09:51,577 minium basenative#63 wrapper] call IdeNative.send end False
[D 2025-05-08 22:09:51,577 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"20dc9b74-139c-4cf4-8184-b8374c377bfc","method":"App.callWxMethod","params":{"method":"getPrivacySetting","args":[]}}
[D 2025-05-08 22:09:51,591 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"20dc9b74-139c-4cf4-8184-b8374c377bfc","error":{"message":"wx.getPrivacySetting not exists"}}
[E 2025-05-08 22:09:51,593 minium.Conn1648 connection#668 __on_message] [20dc9b74-139c-4cf4-8184-b8374c377bfc]: wx.getPrivacySetting not exists
[D 2025-05-08 22:09:51,594 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"7d71b511-2f9a-4a82-828a-a6757ab0cb91","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2025-05-08 22:09:51,594 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"7d71b511-2f9a-4a82-828a-a6757ab0cb91","result":{"result":false}}
[D 2025-05-08 22:09:51,599 minium.App1440 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:09:51,600 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"123e673f-f238-4171-908e-f92a76e421f5","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2025-05-08 22:09:51,600 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"123e673f-f238-4171-908e-f92a76e421f5","result":{}}
[D 2025-05-08 22:09:51,605 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"ca7d6e97-8abe-41a8-8a5f-184214f11a8c","method":"App.getCurrentPage","params":{}}
[D 2025-05-08 22:09:51,607 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"ca7d6e97-8abe-41a8-8a5f-184214f11a8c","result":{"pageId":1,"path":"pages/login/login","query":{}}}
[D 2025-05-08 22:09:51,609 minium.App1440 app#618 _evaluate_js] evaluate js file getCurrentPages [ALL]
[D 2025-05-08 22:09:51,611 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"68377481-b9ed-44f8-949a-f6b67635ed9f","method":"App.callFunction","params":{"functionDeclaration":"function miniumGetCurrentPages(e){var r=getCurrentPages();return e&&(r=[r.pop()]),r=r.map((function(e){if(e){let{route:r}=e;const n=r.indexOf(\"__plugin__/\");return n>-1&&(r=\"plugin-private://\"+r.slice(n+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options,renderer:e.renderer}}})),e?r.pop():r}","args":[true]}}
[D 2025-05-08 22:09:51,614 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"68377481-b9ed-44f8-949a-f6b67635ed9f","result":{"result":{"pageId":1,"path":"pages/login/login","query":{}}}}
[D 2025-05-08 22:09:51,614 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"0c2dc62c-0154-42ce-8a7e-4c05b4698464","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2025-05-08 22:09:52,014 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"0c2dc62c-0154-42ce-8a7e-4c05b4698464","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2025-05-08 22:09:52,015 minium.App1440 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:09:52,016 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"0343c889-78b9-4edf-adce-2a350c0c31e6","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniGetLocation(o,n,e){return new Promise((o=>{let t={errMsg:\"chooseLocation:ok\",name:\"\u817e\u8baf\u5fae\u4fe1\u603b\u90e8\",address:\"\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\",latitude:23.12463,longitude:113.36199},i={errMsg:\"chooseLocation:fail cancel\"},c={errMsg:\"chooseLocation:fail auth deny\"},a={};for(let o in t)void 0!==n[o]&&(t[o]=n[o]);for(let o in e)a[o]=Object.assign({},t,e[o]);wx.authorize({scope:\"scope.userLocation\",success:()=>function(){let n={\"\u786e\u5b9a\":function(){return o(t),t}};n[t.name]=function(){return o(t),t};for(let e in a)n[e]=function(){return o(a[e]),a[e]};n[\"\u53d6\u6d88\"]=function(){return o(i),i},global.__minium__.mock_map_modal(n)}(),fail:()=>(o(c),c)}),console.warn(\"[minium] mock wx.chooseLocation, you can use `native.allow_get_location` to handle it\")}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["chooseLocation",[{},{}]]}}
[D 2025-05-08 22:09:52,020 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"0343c889-78b9-4edf-adce-2a350c0c31e6","result":{}}
[D 2025-05-08 22:09:52,020 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"13ce7e02-2b4f-4ecb-9248-0c6954794fd6","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const a=(e.method||\"GET\").toUpperCase(),t=e.url,[i,l]=t.split(\"?\"),o=function(e){if(!(e=e.split(\"#\")[0]))return{};const s={},c=e.split(\"&\");for(let e=0;e<c.length;e++){const[a,t]=c[e].split(\"=\");s[a]=decodeURIComponent(t)}return s}(l||\"\");\"GET\"===a&&Object.assign(o,e.data);const r=Object.assign({},e,{url:i,params:o});\"GET\"===a&&Object.assign(r,{data:o});let h=c.search(e);if(!h)if(r.params){const e=Object.assign({},r);e.url=`${r.url}?${Object.keys(r.params).map((e=>`${e}=${r.params[e]}`)).join(\"&\")}`,delete e.params,h=c.search(r,e)}else h=c.search(r);return h?(console.log(\"@@@@rule match\",h),e.__miniumMocked=!0,h.success?new s(h.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):h.fail?new s(void 0,h.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2025-05-08 22:09:52,027 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"13ce7e02-2b4f-4ecb-9248-0c6954794fd6","result":{}}
[D 2025-05-08 22:09:52,029 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"3808e953-f10a-4966-8e20-375dc6009f8a","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2025-05-08 22:09:52,033 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"3808e953-f10a-4966-8e20-375dc6009f8a","result":{"result":{"accountInfo":{"appId":"wxe9dbb4816baa7be1","nickname":"","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2025-05-08 22:09:52,033 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"1e23a0cb-fae9-42d3-bf0d-747b0297fc0e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:09:52,040 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"1e23a0cb-fae9-42d3-bf0d-747b0297fc0e","result":{"result":{"batteryLevel":35,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:09:52,040 minium minitest#218 init_miniprogram] end init miniprogram
[I 2025-05-08 22:09:52,041 minium minitest#432 _miniSetUp] =========Current case: test_get_system_info=========
[I 2025-05-08 22:09:52,041 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_get_system_info
[I 2025-05-08 22:09:52,041 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:09:52,041 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:09:52,041 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:09:52,041 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:09:52,041 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[D 2025-05-08 22:09:52,041 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"86765856-882f-4374-b398-2065d2f132d4","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2025-05-08 22:09:52,053 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"86765856-882f-4374-b398-2065d2f132d4","result":{"result":{"path":"pages/login/login","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2025-05-08 22:09:52,053 minium.App1440 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:09:52,055 minium.Conn1648 connection#427 _safely_send] ASYNC_SEND > [1398729431648]{"id":"075d4816-a3e1-44e6-a36e-27812677a41d","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:09:52,055 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:09:53,615 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746713393601]}}
[D 2025-05-08 22:09:53,615 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"075d4816-a3e1-44e6-a36e-27812677a41d","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:09:53,615 minium.App1440 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746713393601]}
[I 2025-05-08 22:09:53,623 minium.Conn1648 connection#704 _handle_async_msg] received async msg: 075d4816-a3e1-44e6-a36e-27812677a41d
[I 2025-05-08 22:09:53,623 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:09:53,623 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"cb5d8d15-fa7f-424e-a711-7ebd3966d111","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:09:54,564 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"cb5d8d15-fa7f-424e-a711-7ebd3966d111","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:09:54,564 minium minitest#487 _miniSetUp] =========case: test_get_system_info start=========
[I 2025-05-08 22:09:54,564 minium minitest#788 _callTestMethod] call test method
[D 2025-05-08 22:09:54,564 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"894e1dfd-116a-4da4-bc14-e8b3151e0260","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:09:54,584 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"894e1dfd-116a-4da4-bc14-e8b3151e0260","result":{"result":{"batteryLevel":35,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:09:54,666 minium minitest#897 capture] capture assertIn-success.png
[D 2025-05-08 22:09:54,666 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"1307b5c3-c43a-42ca-82bc-f8a1c8250261","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:09:55,857 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"1307b5c3-c43a-42ca-82bc-f8a1c8250261","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:09:55,857 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:09:55,857 minium minitest#799 _miniTearDown] =========Current case Down: test_get_system_info=========
[I 2025-05-08 22:09:55,873 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:09:55,873 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"bc588852-6cff-41e5-827e-66a40355a5d5","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:09:56,942 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"bc588852-6cff-41e5-827e-66a40355a5d5","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:09:56,957 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:09:56,957 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:09:56,964 minium minitest#432 _miniSetUp] =========Current case: test_login=========
[I 2025-05-08 22:09:56,964 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_login
[I 2025-05-08 22:09:56,964 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:09:56,964 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:09:56,964 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:09:56,964 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:09:56,964 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[I 2025-05-08 22:09:56,964 minium.App1440 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:09:56,964 minium.Conn1648 connection#427 _safely_send] ASYNC_SEND > [1398729431648]{"id":"8673830b-15ba-4525-8bc2-57b0f8abf5f1","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:09:56,978 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:09:58,130 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746713398117]}}
[D 2025-05-08 22:09:58,130 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"8673830b-15ba-4525-8bc2-57b0f8abf5f1","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:09:58,130 minium.App1440 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746713398117]}
[I 2025-05-08 22:09:58,130 minium.Conn1648 connection#704 _handle_async_msg] received async msg: 8673830b-15ba-4525-8bc2-57b0f8abf5f1
[I 2025-05-08 22:09:58,139 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:09:58,139 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"8a62b9fd-838c-418e-b7e3-8708885d787c","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:09:59,128 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"8a62b9fd-838c-418e-b7e3-8708885d787c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyMvduWIzkOJAgDXZH1/5+4O49zZudtOkNO2D4YAMIVmdWj7pOlkFzuJAgChivxP/7n/zIzM6MbLV8ArF8kb661AABgkMaIILnc4X0l973XtSKCNMCMRjMA7jA7l91GMwP0HJC0v7z23q/Xa+/tNPQdSBoBRIQZws3d56/6ho9ZmJlZRLj7fOi85mMkJNdaJEm6mQVJQw19XBb9O3cAbsYQFZbr/rpJThjoh/YTKWKZYS+YkwRMt+qHRkQ/FDV0kraM0OBEdSPJCJIXcgC5tDAYAJjjjv2YhZmRgP+gmdFs37evdV1eYyb5BzrrjXijxunzPjaIYPjLutMQefPY4e6Hd9zMP0mnVwQtmc5MpMD4c16WJMivWLdag
[I 2025-05-08 22:09:59,137 minium minitest#487 _miniSetUp] =========case: test_login start=========
[I 2025-05-08 22:09:59,137 minium minitest#788 _callTestMethod] call test method
[I 2025-05-08 22:10:09,137 minium page#716 _get_elements_by_css] try to get elements: button
[D 2025-05-08 22:10:09,137 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"890a7a05-3027-4cf6-a810-86f29b6a7511","method":"Page.getElements","params":{"selector":"button","pageId":4}}
[D 2025-05-08 22:10:09,154 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"890a7a05-3027-4cf6-a810-86f29b6a7511","result":{"elements":[{"elementId":"9db44a43-4bb5-4818-b330-cb778f78c822","tagName":"button"}]}}
[I 2025-05-08 22:10:09,162 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x00000145AACE8FA0>]
[D 2025-05-08 22:10:09,170 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"c0d885ef-38be-492e-ae18-5be18e62b816","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"9db44a43-4bb5-4818-b330-cb778f78c822","pageId":4}}
[D 2025-05-08 22:10:09,176 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"c0d885ef-38be-492e-ae18-5be18e62b816","result":{"properties":["立即登陆"]}}
[E 2025-05-08 22:10:09,176 minium minitest#793 _callTestMethod] test exception
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 19, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[I 2025-05-08 22:10:09,184 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:10:09,184 minium minitest#799 _miniTearDown] =========Current case Down: test_login=========
[I 2025-05-08 22:10:09,184 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:10:09,184 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"bf6af52e-53e2-49b0-8af5-bf5ed4bd9ebb","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:10:10,228 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"bf6af52e-53e2-49b0-8af5-bf5ed4bd9ebb","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyMvduWIzkOJAgDXZH1/5+4O49zZudtOkNO2D4YAMIVmdWj7pOlkFzuJAgChivxP/7n/zIzM6MbLV8ArF8kb661AABgkMaIILnc4X0l973XtSKCNMCMRjMA7jA7l91GMwP0HJC0v7z23q/Xa+/tNPQdSBoBRIQZws3d56/6ho9ZmJlZRLj7fOi85mMkJNdaJEm6mQVJQw19XBb9O3cAbsYQFZbr/rpJThjoh/YTKWKZYS+YkwRMt+qHRkQ/FDV0kraM0OBEdSPJCJIXcgC5tDAYAJjjjv2YhZmRgP+gmdFs37evdV1eYyb5BzrrjXijxunzPjaIYPjLutMQefPY4e6Hd9zMP0mnVwQtmc5MpMD4c16WJMivWLdag
[I 2025-05-08 22:10:10,231 minium page#716 _get_elements_by_css] try to get elements: page
[D 2025-05-08 22:10:10,231 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"dbc47c9c-dc01-493e-bde0-00155e377878","method":"Page.getElements","params":{"selector":"page","pageId":4}}
[D 2025-05-08 22:10:10,246 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"dbc47c9c-dc01-493e-bde0-00155e377878","result":{"elements":[{"elementId":"2cae58e2-772b-4e6d-ab16-10d61b8df0a6","tagName":"body","nodeId":"e5e44c64"}]}}
[I 2025-05-08 22:10:10,246 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x00000145AACFFC40>]
[D 2025-05-08 22:10:10,248 minium.Conn1648 connection#427 _safely_send] SEND > [1398729431648]{"id":"bbdd2c48-8ffc-4719-b7e8-a5b4c408e607","method":"Element.getWXML","params":{"type":"inner","elementId":"2cae58e2-772b-4e6d-ab16-10d61b8df0a6","pageId":4,"nodeId":"e5e44c64"}}
[D 2025-05-08 22:10:10,258 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"bbdd2c48-8ffc-4719-b7e8-a5b4c408e607","result":{"wxml":"<view class=\"container\"><image class=\"full-bg\" mode=\"aspectFill\" src=\"../../images/login-bg.jpg\" role=\"img\"></image><view class=\"bottom-mask\"></view><view class=\"nav-bar\"><text class=\"system-title\">座位预约系统</text></view><view class=\"welcome-container\"><text class=\"welcome-text\">欢迎进入</text><text class=\"system-name\">座位预约系统</text><view class=\"line\"></view></view><view class=\"login-area\"><view class=\"avatar-container\"><imag
[D 2025-05-08 22:10:10,258 minium page#244 pretty_wxml] pretty wxml error
[I 2025-05-08 22:10:10,273 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:10:10,273 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[E 2025-05-08 22:10:10,273 minium utils#166 wrapper] catch error: 'gbk' codec can't decode byte 0xa6 in position 627: illegal multibyte sequence
[E 2025-05-08 22:10:10,273 minium assertbase#390 _get_stack_info] <bound method SeatReservationAutoTest.test_login of <seat_reservation_auto_test.SeatReservationAutoTest testMethod=test_login>>
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 19, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found
[W 2025-05-08 22:10:10,273 minium assertbase#354 _log_info_when_error] config: {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508220929', 'case_output': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs\\20250508220929\\test_login\\20250508220956964659'}
[W 2025-05-08 22:10:10,273 minium assertbase#355 _log_info_when_error] build info: {'version': '1.6.0', 'revision': '33ce5b50b34ec18c51c054a7cc1bdfb3ab0a451b', 'branch': 'master', 'update_at': '2024-10-09 21:08:56'}
[W 2025-05-08 22:10:10,273 minium minitest#1029 _log_info_when_error] mini: 基础库2.20.1, 开发者工具1.06.2412050
[W 2025-05-08 22:10:10,273 minium minitest#1031 _log_info_when_error] native: <minium.native.wx_native.idenative.IdeNative object at 0x00000145AAC55B50>
[I 2025-05-08 22:10:10,273 minium miniresult#143 print_shot_msg] 
====================case num:2, failed num:0, error num:1====================SeatReservationAutoTest:test_login has error:
Traceback (most recent call last):
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 266, in testPartExecutor
    yield
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\libs\unittest\case.py", line 351, in run
    self._callTestMethod(testMethod)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\framework\minitest.py", line 789, in _callTestMethod
    method()
  File "C:\PythonProject\SeatReservationAutoTest\seat_reservation_auto_test.py", line 19, in test_login
    self.page.get_element("button", inner_text="立即登录").click()
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\app.py", line 291, in wrapper
    return func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\minium_log.py", line 148, in wrapper
    result = func(*args, **kwargs)
  File "C:\anaconda3\envs\python38\lib\site-packages\minium\miniprogram\base_driver\page\page.py", line 375, in get_element
    raise MiniElementNotFoundError(_selector)
minium.framework.exception.MiniElementNotFoundError: element[button] not found

-----------------------------------------------------------------------------

[I 2025-05-08 22:10:20,283 minium.SESSION session#67 run] case queue is empty, test complete, release None
[I 2025-05-08 22:10:20,283 minium minitest#109 reset_minium] reset_minium
[D 2025-05-08 22:10:20,283 minium.Conn1648 connection#427 _safely_send] ASYNC_SEND > [1398729431648]{"id":"6d315569-4266-4097-8ead-ea55fcb777f5","method":"Tool.close","params":{}}
[D 2025-05-08 22:10:20,283 minium.Conn1648 connection#660 __on_message] RECV < [1398729431648]{"id":"6d315569-4266-4097-8ead-ea55fcb777f5","result":{}}
[I 2025-05-08 22:10:20,283 minium.Conn1648 connection#704 _handle_async_msg] received async msg: 6d315569-4266-4097-8ead-ea55fcb777f5, maybe command ignore response
[E 2025-05-08 22:10:20,314 minium.Conn1648 connection#642 _on_error] Connection to remote host was lost.
[I 2025-05-08 22:10:20,314 minium.Conn1648 connection#377 _ws_run_forever] websocket run forever shutdown
[I 2025-05-08 22:10:21,286 minium minitest#89 reset_native] reset_native
[I 2025-05-08 22:10:21,286 minium basenative#59 wrapper] call IdeNative.stop_wechat
[I 2025-05-08 22:10:21,286 minium basenative#63 wrapper] call IdeNative.stop_wechat end None
[I 2025-05-08 22:10:21,286 minium basenative#59 wrapper] call IdeNative.release
[I 2025-05-08 22:10:21,286 minium basenative#59 wrapper] call BaseNative.release
[I 2025-05-08 22:10:21,286 minium basenative#250 release] Native release
[I 2025-05-08 22:10:21,286 minium basenative#59 wrapper] call BaseNative.release_auto_authorize
[I 2025-05-08 22:10:21,286 minium basenative#63 wrapper] call BaseNative.release_auto_authorize end None
[I 2025-05-08 22:10:21,286 minium basenative#63 wrapper] call BaseNative.release end None
[I 2025-05-08 22:10:21,286 minium basenative#63 wrapper] call IdeNative.release end None
[D 2025-05-08 22:19:59,137 minium loader#137 load_from_module] Loading module: seat_reservation_auto_test
[D 2025-05-08 22:19:59,153 minium loader#141 load_from_module] put module[seat_reservation_auto_test] into queue
[I 2025-05-08 22:19:59,184 minium loader#300 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508221959'}

[D 2025-05-08 22:20:00,127 minium minitest#327 _miniClassSetUp] =====================
[D 2025-05-08 22:20:00,127 minium minitest#328 _miniClassSetUp] Testing class：SeatReservationAutoTest
[D 2025-05-08 22:20:00,127 minium minitest#329 _miniClassSetUp] =====================
[I 2025-05-08 22:20:00,143 minium minitest#202 init_miniprogram] start init miniprogram
[I 2025-05-08 22:20:00,149 minium basenative#59 wrapper] call IdeNative.start_wechat
[I 2025-05-08 22:20:00,149 minium basenative#63 wrapper] call IdeNative.start_wechat end None
[D 2025-05-08 22:20:00,149 minium wx_minium#118 __init__] {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508221959'}
[I 2025-05-08 22:20:00,149 minium wx_minium#738 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2025-05-08 22:20:00,149 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\zhaotong\SeatReservation" --auto-port 9420
[I 2025-05-08 22:20:06,154 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 55623, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:22646
- preparing
- Fetching AppID (wxe9dbb4816baa7be1) permissions
√ Using AppID: wxe9dbb4816baa7be1
√ auto

[I 2025-05-08 22:20:06,154 minium minium_object#102 _do_shell] out:

[I 2025-05-08 22:20:16,170 minium wx_minium#835 connect_dev_tool] Trying to connect Dev tool ...
[I 2025-05-08 22:20:16,242 minium.Conn3840 connection#352 _connect] connect to WebChatTools successfully
[D 2025-05-08 22:20:16,242 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"34bf2782-6ed9-4c44-93b8-0374146d2898","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:20:16,301 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"34bf2782-6ed9-4c44-93b8-0374146d2898","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[D 2025-05-08 22:20:16,301 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"5b3f668a-8063-4b0a-b110-4204f3c0cc3f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:20:21,627 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.initialized","params":{}}
[W 2025-05-08 22:20:21,627 minium.Conn3840 connection#330 notify] no observer listening event App.initialized
[D 2025-05-08 22:20:21,635 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"5b3f668a-8063-4b0a-b110-4204f3c0cc3f","result":{"result":{"batteryLevel":31,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[D 2025-05-08 22:20:21,635 minium.App7728 app#618 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2025-05-08 22:20:21,635 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"9cde4dfc-d488-46da-a180-28a97d24bb68","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2025-05-08 22:20:21,647 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"9cde4dfc-d488-46da-a180-28a97d24bb68","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2025-05-08 22:20:21,647 minium.Conn3840 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:20:21,647 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"f8a66613-453c-4802-a1a6-2b79fcdeab5f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2025-05-08 22:20:21,655 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"f8a66613-453c-4802-a1a6-2b79fcdeab5f","result":{}}
[D 2025-05-08 22:20:21,655 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"98391316-e17c-4a5b-aa54-fed7aa0f4fde","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            var c = getCurrentPages().pop()\n            if (c && c.__wxWebviewId__ == options.webviewId) options.renderer = c.renderer\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2025-05-08 22:20:21,664 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"98391316-e17c-4a5b-aa54-fed7aa0f4fde","result":{}}
[D 2025-05-08 22:20:21,668 minium.App7728 app#618 _evaluate_js] evaluate js file utils [ALL]
[D 2025-05-08 22:20:21,671 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"1a4bb299-81a8-4449-a1fc-e98cf6680fd7","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),l=Object.getOwnPropertyDescriptor(t,r);let u=!1;if(n[r])o[r]&&(u=!0);else{let e,i=!1;l?l.get?(u=!0,e=l.get):(i=!0,e=l.value):e=t[r],e&&(s[r]=i,o[r]=u,n[r]=e)}return u?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),l=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),l?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":if(e===t)return!0;\"*\"===e&&(e=\".*\");try{return!!new RegExp(e).exec(t)}catch(e){return!1}case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}unshift(e){this.rule_list.unshift(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(...e){for(let o of e)for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,o))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2025-05-08 22:20:21,680 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"1a4bb299-81a8-4449-a1fc-e98cf6680fd7","result":{}}
[D 2025-05-08 22:20:21,680 minium.App7728 app#618 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2025-05-08 22:20:21,683 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"35fdf466-b0e2-42a7-bf7e-a015b3c3b8d6","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);if(!g&&(g=global.__minium__.setSrcMethod(n,c),void 0===g))return void(_.get(n)[c]=!0);global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2025-05-08 22:20:21,683 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"35fdf466-b0e2-42a7-bf7e-a015b3c3b8d6","result":{}}
[D 2025-05-08 22:20:21,690 minium.App7728 app#618 _evaluate_js] evaluate js file requestStack [ALL]
[D 2025-05-08 22:20:21,692 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"4136c55d-88a6-4fab-a978-179288221370","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):\"empty stack\"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,r){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}","args":[]}}
[D 2025-05-08 22:20:21,701 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"4136c55d-88a6-4fab-a978-179288221370","result":{"result":true}}
[D 2025-05-08 22:20:21,701 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"b03d311f-d577-4688-8265-1762707324bc","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2025-05-08 22:20:21,708 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"b03d311f-d577-4688-8265-1762707324bc","result":{"result":{"pages":["pages/login/login","pages/user/home/home"],"tabBar":[]}}}
[D 2025-05-08 22:20:21,708 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"b22d485e-3331-4475-8b92-2272f96d64a8","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2025-05-08 22:20:21,714 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"b22d485e-3331-4475-8b92-2272f96d64a8","result":{"result":{"miniProgram":{"appId":"wxe9dbb4816baa7be1","envVersion":"develop","version":""}}}}
[D 2025-05-08 22:20:21,714 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"3ab0b395-1c5c-4e06-b652-283e5833135d","method":"App.addBinding","params":{"name":"navigateTo_before_global"}}
[D 2025-05-08 22:20:21,719 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"3ab0b395-1c5c-4e06-b652-283e5833135d","result":{}}
[D 2025-05-08 22:20:21,719 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"b2abd874-a029-40b4-ac82-a9ea7b1e4542","method":"App.addBinding","params":{"name":"redirectTo_before_global"}}
[D 2025-05-08 22:20:21,723 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"b2abd874-a029-40b4-ac82-a9ea7b1e4542","result":{}}
[D 2025-05-08 22:20:21,723 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"dc6d1df8-4b06-4b5c-b04c-dc9abad71a0c","method":"App.addBinding","params":{"name":"switchTab_before_global"}}
[D 2025-05-08 22:20:21,727 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"dc6d1df8-4b06-4b5c-b04c-dc9abad71a0c","result":{}}
[D 2025-05-08 22:20:21,728 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"20e593c4-137e-4cc5-9ba3-2721ae93c406","method":"App.addBinding","params":{"name":"navigateBack_before_global"}}
[D 2025-05-08 22:20:21,730 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"20e593c4-137e-4cc5-9ba3-2721ae93c406","result":{}}
[D 2025-05-08 22:20:21,732 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"2248f1fa-12c4-4647-a480-d53e8c99d893","method":"App.addBinding","params":{"name":"reLaunch_before_global"}}
[D 2025-05-08 22:20:21,734 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"2248f1fa-12c4-4647-a480-d53e8c99d893","result":{}}
[D 2025-05-08 22:20:21,736 minium.App7728 app#618 _evaluate_js] evaluate js file hookNavigation [ALL]
[D 2025-05-08 22:20:21,738 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"398ede61-d9b6-42be-ae28-21ced6eb7aa4","method":"App.callFunction","params":{"functionDeclaration":"function hookNavigation(){if(global.__minium__.navigationHooked)return!0;global.__minium__.navigationHooked=!0;const e=\"global\",a=Object.defineProperties;function o(e){switch(e){case\"navigateTo_before_global\":return\"function\"==typeof navigateTo_before_global?navigateTo_before_global:void 0;case\"redirectTo_before_global\":return\"function\"==typeof redirectTo_before_global?redirectTo_before_global:void 0;case\"switchTab_before_global\":return\"function\"==typeof switchTab_before_global?switchTab_before_global:void 0;case\"navigateBack_before_global\":return\"function\"==typeof navigateBack_before_global?navigateBack_before_global:void 0;case\"reLaunch_before_global\":return\"function\"==typeof reLaunch_before_global?reLaunch_before_global:void 0;default:return}}function t(e){const a=o(e);return a||function(){const a=o(e);return a&&a(...arguments)}}global.__minium__.getRealBindingMethod=o,global.__minium__.getBindingMethod=t;[\"navigateTo\",\"redirectTo\",\"switchTab\",\"navigateBack\",\"reLaunch\"].forEach((a=>{global.__minium__.setCall(a,e,{before:t(`${a}_before_${e}`)})})),wx.onAppRouteDone((function(){const o=getCurrentPages().pop();o&&function(o,r){if(!o||!0===o.__page_router_rewrited__)return;const n={navigateTo:o.navigateTo,redirectTo:o.redirectTo,switchTab:o.switchTab,navigateBack:o.navigateBack,reLaunch:o.reLaunch};a(o,{__page_router_rewrited__:{value:!0,writable:!0},navigateTo:{value(a={}){const i=t(`navigateTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.navigateTo.call(o,a)},writable:!0},redirectTo:{value(a={}){const i=t(`redirectTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.redirectTo.call(o,a)},writable:!0},switchTab:{value(a={}){const i=t(`switchTab_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.switchTab.call(o,a)},writable:!0},navigateBack:{value(a={}){const r=t(`navigateBack_before_${e}`);return r&&r(a),n.navigateBack.call(o,a)},writable:!0},reLaunch:{value(a={}){const i=t(`reLaunch_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.reLaunch.call(o,a)},writable:!0}}),console.warn(\"hook pageRouter succ\")}(o.pageRouter,o.route||o.__route__)}))}","args":[]}}
[D 2025-05-08 22:20:21,744 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"398ede61-d9b6-42be-ae28-21ced6eb7aa4","result":{}}
[D 2025-05-08 22:20:21,744 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"1121601e-244d-44a8-8404-8a49ed602f70","method":"App.addBinding","params":{"name":"showModal_before_1746714021744"}}
[D 2025-05-08 22:20:21,744 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"1121601e-244d-44a8-8404-8a49ed602f70","result":{}}
[D 2025-05-08 22:20:21,752 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"121c37ee-c929-443c-b880-9ab4f6e6806b","method":"App.addBinding","params":{"name":"showModal_callback_1746714021744"}}
[D 2025-05-08 22:20:21,752 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"121c37ee-c929-443c-b880-9ab4f6e6806b","result":{}}
[D 2025-05-08 22:20:21,752 minium.App7728 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:20:21,752 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"03124d97-2bf0-4840-a376-3b3706798ba0","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1746714021744,after:undefined,callback:showModal_callback_1746714021744},!0):global.__minium__.delCall(_,l)}","args":["showModal",1746714021744,true]}}
[D 2025-05-08 22:20:21,760 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"03124d97-2bf0-4840-a376-3b3706798ba0","result":{}}
[D 2025-05-08 22:20:21,760 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"ac9529ca-4b2d-42c5-a935-44c640507f34","method":"App.addBinding","params":{"name":"showToast_before_1746714021760"}}
[D 2025-05-08 22:20:21,760 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"ac9529ca-4b2d-42c5-a935-44c640507f34","result":{}}
[D 2025-05-08 22:20:21,768 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"e075fd5b-0356-49a2-b9f6-609ee1280671","method":"App.addBinding","params":{"name":"showToast_callback_1746714021760"}}
[D 2025-05-08 22:20:21,768 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"e075fd5b-0356-49a2-b9f6-609ee1280671","result":{}}
[D 2025-05-08 22:20:21,768 minium.App7728 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:20:21,768 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"0282460b-5706-4b08-8e0b-aae681019d7f","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1746714021760,after:undefined,callback:showToast_callback_1746714021760},!0):global.__minium__.delCall(_,l)}","args":["showToast",1746714021760,true]}}
[D 2025-05-08 22:20:21,776 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"0282460b-5706-4b08-8e0b-aae681019d7f","result":{}}
[I 2025-05-08 22:20:21,776 minium wx_minium#893 _instantiate_app] new app instanst <minium.miniprogram.base_driver.app.App object at 0x0000017C532728B0>, whether should relaunch: False
[D 2025-05-08 22:20:21,776 minium.Conn3840 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:20:21,776 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"2530b99d-60af-4b98-850f-d2eab4a5260b","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:20:21,784 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"2530b99d-60af-4b98-850f-d2eab4a5260b","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[I 2025-05-08 22:20:21,784 minium basenative#59 wrapper] call IdeNative.send
[D 2025-05-08 22:20:21,784 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"10ff7369-2e59-4e70-9ea9-89c461e73664","method":"Tool.native","params":{"method":"clickCoverView","data":{"data":{"nodetype":"text","text":"\u540c\u610f"}}}}
[D 2025-05-08 22:20:21,784 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"10ff7369-2e59-4e70-9ea9-89c461e73664","result":{"error":{"message":"clickCoverView failed"}}}
[W 2025-05-08 22:20:21,792 minium idenative#77 _send] handle clickCoverView error: clickCoverView failed
[I 2025-05-08 22:20:21,792 minium basenative#63 wrapper] call IdeNative.send end False
[D 2025-05-08 22:20:21,792 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"35f61f2c-c57f-403c-baa0-f5592d35e69f","method":"App.callWxMethod","params":{"method":"getPrivacySetting","args":[]}}
[D 2025-05-08 22:20:21,792 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"35f61f2c-c57f-403c-baa0-f5592d35e69f","error":{"message":"wx.getPrivacySetting not exists"}}
[E 2025-05-08 22:20:21,800 minium.Conn3840 connection#668 __on_message] [35f61f2c-c57f-403c-baa0-f5592d35e69f]: wx.getPrivacySetting not exists
[D 2025-05-08 22:20:21,800 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"89f11a8c-b45a-4be4-999d-5135208ac4d9","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2025-05-08 22:20:21,800 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"89f11a8c-b45a-4be4-999d-5135208ac4d9","result":{"result":false}}
[D 2025-05-08 22:20:21,800 minium.App7728 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:20:21,808 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"e668cd67-a8f3-456e-aa9c-198e6d9f41c6","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2025-05-08 22:20:21,808 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"e668cd67-a8f3-456e-aa9c-198e6d9f41c6","result":{}}
[D 2025-05-08 22:20:21,814 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"ee8fd1c7-cbb1-4f2f-9cd8-e293a37208e7","method":"App.getCurrentPage","params":{}}
[D 2025-05-08 22:20:21,819 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"ee8fd1c7-cbb1-4f2f-9cd8-e293a37208e7","result":{"pageId":1,"path":"pages/login/login","query":{}}}
[D 2025-05-08 22:20:21,819 minium.App7728 app#618 _evaluate_js] evaluate js file getCurrentPages [ALL]
[D 2025-05-08 22:20:21,821 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"5e178fc7-a517-472f-ac03-1209b46b4121","method":"App.callFunction","params":{"functionDeclaration":"function miniumGetCurrentPages(e){var r=getCurrentPages();return e&&(r=[r.pop()]),r=r.map((function(e){if(e){let{route:r}=e;const n=r.indexOf(\"__plugin__/\");return n>-1&&(r=\"plugin-private://\"+r.slice(n+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options,renderer:e.renderer}}})),e?r.pop():r}","args":[true]}}
[D 2025-05-08 22:20:21,826 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"5e178fc7-a517-472f-ac03-1209b46b4121","result":{"result":{"pageId":1,"path":"pages/login/login","query":{}}}}
[D 2025-05-08 22:20:21,826 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"dc2b8f93-93d0-4aa5-b2b2-c0da5b3cc723","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2025-05-08 22:20:22,283 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"dc2b8f93-93d0-4aa5-b2b2-c0da5b3cc723","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2025-05-08 22:20:22,283 minium.App7728 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:20:22,283 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"07298202-3e83-4a6d-bc53-d452f3a42508","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniGetLocation(o,n,e){return new Promise((o=>{let t={errMsg:\"chooseLocation:ok\",name:\"\u817e\u8baf\u5fae\u4fe1\u603b\u90e8\",address:\"\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\",latitude:23.12463,longitude:113.36199},i={errMsg:\"chooseLocation:fail cancel\"},c={errMsg:\"chooseLocation:fail auth deny\"},a={};for(let o in t)void 0!==n[o]&&(t[o]=n[o]);for(let o in e)a[o]=Object.assign({},t,e[o]);wx.authorize({scope:\"scope.userLocation\",success:()=>function(){let n={\"\u786e\u5b9a\":function(){return o(t),t}};n[t.name]=function(){return o(t),t};for(let e in a)n[e]=function(){return o(a[e]),a[e]};n[\"\u53d6\u6d88\"]=function(){return o(i),i},global.__minium__.mock_map_modal(n)}(),fail:()=>(o(c),c)}),console.warn(\"[minium] mock wx.chooseLocation, you can use `native.allow_get_location` to handle it\")}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["chooseLocation",[{},{}]]}}
[D 2025-05-08 22:20:22,291 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"07298202-3e83-4a6d-bc53-d452f3a42508","result":{}}
[D 2025-05-08 22:20:22,291 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"6e7e02ce-0a46-4b1b-8747-5416321b746a","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const a=(e.method||\"GET\").toUpperCase(),t=e.url,[i,l]=t.split(\"?\"),o=function(e){if(!(e=e.split(\"#\")[0]))return{};const s={},c=e.split(\"&\");for(let e=0;e<c.length;e++){const[a,t]=c[e].split(\"=\");s[a]=decodeURIComponent(t)}return s}(l||\"\");\"GET\"===a&&Object.assign(o,e.data);const r=Object.assign({},e,{url:i,params:o});\"GET\"===a&&Object.assign(r,{data:o});let h=c.search(e);if(!h)if(r.params){const e=Object.assign({},r);e.url=`${r.url}?${Object.keys(r.params).map((e=>`${e}=${r.params[e]}`)).join(\"&\")}`,delete e.params,h=c.search(r,e)}else h=c.search(r);return h?(console.log(\"@@@@rule match\",h),e.__miniumMocked=!0,h.success?new s(h.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):h.fail?new s(void 0,h.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2025-05-08 22:20:22,301 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"6e7e02ce-0a46-4b1b-8747-5416321b746a","result":{}}
[D 2025-05-08 22:20:22,305 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"856e90c3-e6da-4242-8cd4-76c599ac4c2b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2025-05-08 22:20:22,310 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"856e90c3-e6da-4242-8cd4-76c599ac4c2b","result":{"result":{"accountInfo":{"appId":"wxe9dbb4816baa7be1","nickname":"","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2025-05-08 22:20:22,310 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"263deb82-e150-48a4-a5ac-751062a7c9bb","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:20:22,315 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"263deb82-e150-48a4-a5ac-751062a7c9bb","result":{"result":{"batteryLevel":31,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:20:22,317 minium minitest#218 init_miniprogram] end init miniprogram
[I 2025-05-08 22:20:22,318 minium minitest#432 _miniSetUp] =========Current case: test_get_system_info=========
[I 2025-05-08 22:20:22,318 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_get_system_info
[I 2025-05-08 22:20:22,318 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:20:22,318 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:20:22,318 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:20:22,318 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:20:22,318 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[D 2025-05-08 22:20:22,318 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"297a04ef-9072-476a-bb33-2a170e9b1995","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2025-05-08 22:20:22,336 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"297a04ef-9072-476a-bb33-2a170e9b1995","result":{"result":{"path":"pages/login/login","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2025-05-08 22:20:22,337 minium.App7728 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:20:22,340 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1633482463840]{"id":"13162235-051b-4913-921c-4b6b9d9d930a","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:20:22,340 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:20:23,787 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746714023779]}}
[I 2025-05-08 22:20:23,787 minium.App7728 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746714023779]}
[D 2025-05-08 22:20:23,795 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"13162235-051b-4913-921c-4b6b9d9d930a","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:20:23,795 minium.Conn3840 connection#704 _handle_async_msg] received async msg: 13162235-051b-4913-921c-4b6b9d9d930a
[I 2025-05-08 22:20:23,795 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:20:23,795 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"111436e6-368f-4829-a891-f108200262f9","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:20:24,714 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"111436e6-368f-4829-a891-f108200262f9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:20:24,730 minium minitest#487 _miniSetUp] =========case: test_get_system_info start=========
[I 2025-05-08 22:20:24,730 minium minitest#788 _callTestMethod] call test method
[D 2025-05-08 22:20:24,730 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"3c222424-4562-4587-8dd5-b29e81ed31a2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:20:24,746 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"3c222424-4562-4587-8dd5-b29e81ed31a2","result":{"result":{"batteryLevel":31,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:20:24,851 minium minitest#897 capture] capture assertIn-success.png
[D 2025-05-08 22:20:24,859 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"c52287d4-5bd4-4576-b37b-def494d12c33","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:20:25,779 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"c52287d4-5bd4-4576-b37b-def494d12c33","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:20:25,787 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:20:25,787 minium minitest#799 _miniTearDown] =========Current case Down: test_get_system_info=========
[I 2025-05-08 22:20:25,787 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:20:25,787 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"d9857e68-5f76-49b2-b18d-b839feb2ffb2","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:20:26,709 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"d9857e68-5f76-49b2-b18d-b839feb2ffb2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:20:26,709 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:20:26,709 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:20:26,725 minium minitest#432 _miniSetUp] =========Current case: test_login=========
[I 2025-05-08 22:20:26,725 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_login
[I 2025-05-08 22:20:26,725 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:20:26,725 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:20:26,725 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:20:26,725 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:20:26,725 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[I 2025-05-08 22:20:26,725 minium.App7728 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:20:26,725 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1633482463840]{"id":"b8032f11-538d-4503-b6f0-1d5ec1f287c0","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:20:26,740 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:20:27,890 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":4,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746714027873]}}
[D 2025-05-08 22:20:27,890 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"b8032f11-538d-4503-b6f0-1d5ec1f287c0","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:20:27,890 minium.App7728 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 4, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746714027873]}
[I 2025-05-08 22:20:27,890 minium.Conn3840 connection#704 _handle_async_msg] received async msg: b8032f11-538d-4503-b6f0-1d5ec1f287c0
[I 2025-05-08 22:20:27,898 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:20:27,898 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"725a4aa1-070e-4283-9d87-b56c4661ca17","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:20:28,815 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"725a4aa1-070e-4283-9d87-b56c4661ca17","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:20:28,815 minium minitest#487 _miniSetUp] =========case: test_login start=========
[I 2025-05-08 22:20:28,815 minium minitest#788 _callTestMethod] call test method
[I 2025-05-08 22:20:38,838 minium page#716 _get_elements_by_css] try to get elements: button[class='login-btn']
[D 2025-05-08 22:20:38,838 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"afe32c3e-ff53-47a9-bf5a-4be72f30431b","method":"Page.getElements","params":{"selector":"button[class='login-btn']","pageId":4}}
[D 2025-05-08 22:20:38,857 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"afe32c3e-ff53-47a9-bf5a-4be72f30431b","result":{"elements":[{"elementId":"0550383e-abdb-499f-988a-579fffb8bb33","tagName":"button"}]}}
[I 2025-05-08 22:20:38,858 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000017C532D7F70>]
[D 2025-05-08 22:20:38,864 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"a2c752d2-4e15-4470-949f-bdc433bfd0d4","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"0550383e-abdb-499f-988a-579fffb8bb33","pageId":4}}
[D 2025-05-08 22:20:38,873 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"a2c752d2-4e15-4470-949f-bdc433bfd0d4","result":{"properties":["立即登陆"]}}
[D 2025-05-08 22:20:38,873 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"0e75e5ff-a04a-4147-adec-5dcee22c3ac3","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"0550383e-abdb-499f-988a-579fffb8bb33","pageId":4}}
[D 2025-05-08 22:20:38,879 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"0e75e5ff-a04a-4147-adec-5dcee22c3ac3","result":{"styles":["auto"]}}
[D 2025-05-08 22:20:38,880 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"2b0c81c6-6a14-4db1-889b-156271fe7efc","method":"Element.tap","params":{"elementId":"0550383e-abdb-499f-988a-579fffb8bb33","pageId":4}}
[D 2025-05-08 22:20:38,896 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"showToast_before_1746714021760","args":[{"title":"请输入账号","icon":"none"},0.5384821410642522]}}
[D 2025-05-08 22:20:38,896 minium.App7728 app#1344 super_before] showToast before hook result: [{'title': '请输入账号', 'icon': 'none'}, 0.5384821410642522]
[D 2025-05-08 22:20:38,921 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"2b0c81c6-6a14-4db1-889b-156271fe7efc","result":{}}
[D 2025-05-08 22:20:38,921 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"method":"App.bindingCalled","params":{"name":"showToast_callback_1746714021760","args":[{"errMsg":"showToast:ok"},0.5384821410642522]}}
[D 2025-05-08 22:20:38,921 minium.App7728 app#1366 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.5384821410642522]
[I 2025-05-08 22:20:39,927 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:20:39,927 minium minitest#799 _miniTearDown] =========Current case Down: test_login=========
[I 2025-05-08 22:20:39,927 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:20:39,927 minium.Conn3840 connection#427 _safely_send] SEND > [1633482463840]{"id":"e366919b-7569-4674-8866-e16b5a56c04c","method":"App.captureScreenshot","params":{}}
[D 2025-05-08 22:20:40,927 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"e366919b-7569-4674-8866-e16b5a56c04c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAwwAAAXiCAIAAAA+g/jkAAAAAXNSR0IArs4c6QAAIABJREFUeJyUvd2SbKvOHSiJrNrHfv83bHdfOezw3VmVidQXQoOBmLXO57l3rMjKZILQP0II/R//83+JSIioaUiEiKrK+cTbxxiqqqruLiLuHhFmZrYbfz6f1+s15xQRVY2I/JDP6kpkhosKvkQzfM5HVT+fz9fX15zTYsOE9u4uKqGiZjlc/otO7om4u1XjxwYMgIiYWX6pIeLx+FYiBCOaWUR4hIfbMKl5JXiMCoy4wQ5RN5WBxn2+9OBXHSIaHs5fJoGGmqFZjauqYjrP3phYcj2fz2eMMV6Glvwv96yqc879ffTJ7lE05PEJUV8t55xjjPpa1FSs97aoMONmp5up3L0hFh+S1vnMOZXwxgwzxgAhlIiLBuAZhpO/3AQNn
[I 2025-05-08 22:20:40,927 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:20:40,927 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:20:40,944 minium miniresult#143 print_shot_msg] 
====================case num:2, failed num:0, error num:0====================
[I 2025-05-08 22:20:50,955 minium.SESSION session#67 run] case queue is empty, test complete, release None
[I 2025-05-08 22:20:50,955 minium minitest#109 reset_minium] reset_minium
[D 2025-05-08 22:20:50,955 minium.Conn3840 connection#427 _safely_send] ASYNC_SEND > [1633482463840]{"id":"5e71f6e2-5477-4831-8ec4-7316a777b1ef","method":"Tool.close","params":{}}
[D 2025-05-08 22:20:50,955 minium.Conn3840 connection#660 __on_message] RECV < [1633482463840]{"id":"5e71f6e2-5477-4831-8ec4-7316a777b1ef","result":{}}
[I 2025-05-08 22:20:50,955 minium.Conn3840 connection#704 _handle_async_msg] received async msg: 5e71f6e2-5477-4831-8ec4-7316a777b1ef, maybe command ignore response
[E 2025-05-08 22:20:50,986 minium.Conn3840 connection#642 _on_error] Connection to remote host was lost.
[I 2025-05-08 22:20:50,986 minium.Conn3840 connection#377 _ws_run_forever] websocket run forever shutdown
[I 2025-05-08 22:20:51,958 minium minitest#89 reset_native] reset_native
[I 2025-05-08 22:20:51,958 minium basenative#59 wrapper] call IdeNative.stop_wechat
[I 2025-05-08 22:20:51,958 minium basenative#63 wrapper] call IdeNative.stop_wechat end None
[I 2025-05-08 22:20:51,958 minium basenative#59 wrapper] call IdeNative.release
[I 2025-05-08 22:20:51,958 minium basenative#59 wrapper] call BaseNative.release
[I 2025-05-08 22:20:51,958 minium basenative#250 release] Native release
[I 2025-05-08 22:20:51,958 minium basenative#59 wrapper] call BaseNative.release_auto_authorize
[I 2025-05-08 22:20:51,958 minium basenative#63 wrapper] call BaseNative.release_auto_authorize end None
[I 2025-05-08 22:20:51,958 minium basenative#63 wrapper] call BaseNative.release end None
[I 2025-05-08 22:20:51,958 minium basenative#63 wrapper] call IdeNative.release end None
[D 2025-05-08 22:21:53,666 minium loader#137 load_from_module] Loading module: seat_reservation_auto_test
[D 2025-05-08 22:21:53,666 minium loader#141 load_from_module] put module[seat_reservation_auto_test] into queue
[I 2025-05-08 22:21:53,681 minium loader#300 run_session] start session with fork mode 
{'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508222153'}

[D 2025-05-08 22:21:54,610 minium minitest#327 _miniClassSetUp] =====================
[D 2025-05-08 22:21:54,610 minium minitest#328 _miniClassSetUp] Testing class：SeatReservationAutoTest
[D 2025-05-08 22:21:54,610 minium minitest#329 _miniClassSetUp] =====================
[I 2025-05-08 22:21:54,610 minium minitest#202 init_miniprogram] start init miniprogram
[I 2025-05-08 22:21:54,610 minium basenative#59 wrapper] call IdeNative.start_wechat
[I 2025-05-08 22:21:54,625 minium basenative#63 wrapper] call IdeNative.start_wechat end None
[D 2025-05-08 22:21:54,625 minium wx_minium#118 __init__] {'debug': False, 'base_dir': 'C:\\PythonProject\\SeatReservationAutoTest', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'check_mp_foreground': True, 'auto_relaunch': True, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 180, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\PythonProject\\SeatReservationAutoTest\\outputs', 'enable_app_log': False, 'enable_network_panel': False, 'project_path': 'C:\\zhaotong\\SeatReservation', 'dev_tool_path': 'C:\\Program Files (x86)\\Tencent\\微信web开发者工具\\cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'enable_h5': True, 'autofix': False, 'framework_capture': True, 'error_capture': False, 'assert_capture': True, 'create_time': '20250508222153'}
[I 2025-05-08 22:21:54,625 minium wx_minium#738 launch_dev_tool] Starting dev tool and launch MiniProgram project ...
[I 2025-05-08 22:21:54,625 minium minium_object#83 _do_shell] de shell: cli.bat auto --project "C:\zhaotong\SeatReservation" --auto-port 9420
[I 2025-05-08 22:22:00,331 minium minium_object#101 _do_shell] err:
- initialize

× IDE may already started at port 22646, trying to connect

√ IDE server started successfully, listening on http://127.0.0.1:27365
- preparing
- Fetching AppID (wxe9dbb4816baa7be1) permissions
√ Using AppID: wxe9dbb4816baa7be1
√ auto

[I 2025-05-08 22:22:00,339 minium minium_object#102 _do_shell] out:

[I 2025-05-08 22:22:10,343 minium wx_minium#835 connect_dev_tool] Trying to connect Dev tool ...
[I 2025-05-08 22:22:10,632 minium.Conn7552 connection#352 _connect] connect to WebChatTools successfully
[D 2025-05-08 22:22:10,632 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"55b6a02d-8ab1-42b3-a2ca-4e660ed5e4eb","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:22:10,654 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"55b6a02d-8ab1-42b3-a2ca-4e660ed5e4eb","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[D 2025-05-08 22:22:10,654 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"cfae72d2-0a8a-40e8-9d42-ac55f8c3d183","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:22:13,106 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.initialized","params":{}}
[W 2025-05-08 22:22:13,106 minium.Conn7552 connection#330 notify] no observer listening event App.initialized
[D 2025-05-08 22:22:13,111 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"cfae72d2-0a8a-40e8-9d42-ac55f8c3d183","result":{"result":{"batteryLevel":30,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[D 2025-05-08 22:22:13,113 minium.App1488 app#618 _evaluate_js] evaluate js file checkEnv [ALL]
[D 2025-05-08 22:22:13,113 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"986f8c70-f358-4863-937b-8a833d7b7194","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){var _=!1;return global.__minium__?_=!0:(global.__minium__={},_=!1),{injected:_,isThirdApp:!!wx._MINI_WX_PROXY_}}","args":[]}}
[D 2025-05-08 22:22:13,118 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"986f8c70-f358-4863-937b-8a833d7b7194","result":{"result":{"injected":false,"isThirdApp":false}}}
[D 2025-05-08 22:22:13,120 minium.Conn7552 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:22:13,120 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"904896cf-8f94-4d06-b46e-420694757e4b","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
[D 2025-05-08 22:22:13,123 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"904896cf-8f94-4d06-b46e-420694757e4b","result":{}}
[D 2025-05-08 22:22:13,124 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"8302bb3d-4ed6-4f9f-ba32-55f86f27f1b4","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium__.onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            var c = getCurrentPages().pop()\n            if (c && c.__wxWebviewId__ == options.webviewId) options.renderer = c.renderer\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium__.onAppRouteDone = true\n    }\n}","args":[]}}
[D 2025-05-08 22:22:13,128 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"8302bb3d-4ed6-4f9f-ba32-55f86f27f1b4","result":{}}
[D 2025-05-08 22:22:13,128 minium.App1488 app#618 _evaluate_js] evaluate js file utils [ALL]
[D 2025-05-08 22:22:13,130 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"bafb0da7-e2f5-44d5-b8b0-e81980d5300d","method":"App.callFunction","params":{"functionDeclaration":"function utils(){const e=new Map;function t(t,r,i){i||(i=e),i.has(t)||i.set(t,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:n,originWxMethodsGetterMap:o,originWxMethodsValMap:s}=i.get(t),l=Object.getOwnPropertyDescriptor(t,r);let u=!1;if(n[r])o[r]&&(u=!0);else{let e,i=!1;l?l.get?(u=!0,e=l.get):(i=!0,e=l.value):e=t[r],e&&(s[r]=i,o[r]=u,n[r]=e)}return u?n[r]():n[r]}global.__minium__.restoreMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);if(!n[r])return;Object.getOwnPropertyDescriptor(t,r)?o[r]?Object.defineProperty(t,r,{get:n[r]}):Object.defineProperty(t,r,{value:n[r]}):t[r]=n[r],delete n[r]},global.__minium__.replaceMethod=function(r,i,n,o){o||(o=e),o.has(r)||o.set(r,{originWxMethods:{},originWxMethodsGetterMap:{},originWxMethodsValMap:{}});const{originWxMethods:s}=o.get(r),l=Object.getOwnPropertyDescriptor(r,i);s[i]||t(r,i,o),l?Object.defineProperty(r,i,{get:()=>n}):r[i]=n},global.__minium__.getSrcMethod=function(t,r,i){if(i||(i=e),!i.has(t))return;const{originWxMethods:n,originWxMethodsGetterMap:o}=i.get(t);return o[r]?n[r]():n[r]},global.__minium__.setSrcMethod=t,global.__minium__.defineMethod=function(e,t,r){const i=Object.getOwnPropertyDescriptor(e,t);i?i.get?Object.defineProperty(e,t,{get:()=>r}):Object.defineProperty(e,t,{value:r}):e[t]=r};const r=new Map;class i{static isRuleMatched(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case\"string\":if(e===t)return!0;\"*\"===e&&(e=\".*\");try{return!!new RegExp(e).exec(t)}catch(e){return!1}case\"number\":return e===t;case\"object\":if(e instanceof Array){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!i.isRuleMatched(e[r],t[r]))return!1;return!0}for(var n in e)if(\"success\"!=n&&\"fail\"!=n&&\"complete\"!=n&&\"_miniMockType\"!=n){if(void 0===t[n])return!1;if(!i.isRuleMatched(e[n],t[n]))return!1}return!0}return!1}constructor(e){r.has(e)||r.set(e,[]),this.rule_list=r.get(e)}length(){return this.rule_list.length}clean(){this.rule_list.splice(0)}push(e){this.rule_list.push(e)}unshift(e){this.rule_list.unshift(e)}pick(e){return this.rule_list.splice(e,1)[0]}search(...e){for(let o of e)for(var t=0,r=this.rule_list.length;t<r;t++){var n=this.rule_list[t];if(i.isRuleMatched(n,o))return 1===n._miniMockType&&(n=this.pick(t)),n}return null}}global.__minium__.MockRule=i,global.__minium__.bind=function(e,t,...r){return function(...i){return e.apply(t,r.concat(i))}}}","args":[]}}
[D 2025-05-08 22:22:13,135 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"bafb0da7-e2f5-44d5-b8b0-e81980d5300d","result":{}}
[D 2025-05-08 22:22:13,135 minium.App1488 app#618 _evaluate_js] evaluate js file hijackWxMethod [ALL]
[D 2025-05-08 22:22:13,137 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"216fb444-bd1d-43a8-a9e3-ec57829ee732","method":"App.callFunction","params":{"functionDeclaration":"function hijackWxMethod(){if(!global.__minium__.initedHijack){global.__minium__.initedHijack=!0;const o=wx._MINI_WX_PROXY_,a=new Map,l=new Map,r=new Map,u=new Map,_=new Map;function e(e,t,n,c){let i=n.get(e);return i[t]||(i[t]=c),i[t]}_.set(wx,{}),a.set(wx,{}),l.set(wx,{}),r.set(wx,{}),u.set(wx,{}),o&&(_.set(o,{}),a.set(o,{}),l.set(o,{}),r.set(o,{}),u.set(o,{})),global.__minium__.hijackTest=function(e){return{hijacked:_.get(e),hijack_before:a.get(e),hijack_after:l.get(e),hijack_callback:r.get(e),hijack_mock:u.get(e)}};const f={},s=new Set([\"request\",\"downloadFile\",\"uploadFile\",\"connectSocket\"]);function t(e){return!(!e.endsWith(\"Sync\")&&!e.startsWith(\"create\"))||s.has(e)}function n(n,c,i){if(!n)return;if(_.get(n)[c])return;let o=e(n,c,a,{}),m=e(n,c,l,{}),h=e(n,c,r,{});!u.has(n)&&u.set(n,{});let g=global.__minium__.getSrcMethod(n,c);if(!g&&(g=global.__minium__.setSrcMethod(n,c),void 0===g))return void(_.get(n)[c]=!0);global.__minium__.defineMethod(n,c,function(e,t){let n;return n=f[t]?f[t]:f[t]=[],function(...t){n.push(e);try{return e(...t)}finally{n.pop()}}}((function(...e){var i=e[0],a=!1,l=t(c),r=!l||function(e){return s.has(e)}(c);let _=u.get(n)[c];l||i&&(i.success||i.fail||i.complete)||(a=!0);if(f[c].length>1)return g(...e);const b=Math.random();var d;if(Object.values(o).forEach((t=>t(...e,b))),l){if(r&&i&&Object.keys(h).length){const e=i.complete;i.complete=t=>{Object.values(h).forEach((e=>e(t,b))),e&&e(t)}}d=(_||g)(...e)}else if(_||Object.keys(h).length)if(a||_)d=(_||g)(...e).then((function(e){return Object.values(h).forEach((t=>t(e,b))),i&&(i.success&&i.success(e),i.complete&&i.complete(e)),e})).catch((function(e){throw console.warn(`[minium] ${c} ${_?\"mockFn\":\"origin\"} catch ${e}`),Object.values(h).forEach((t=>t(e,b))),i&&(i.fail&&i.fail(e),i.complete&&i.complete(e)),e}));else{if(i){var p=i.complete;i.complete=function(e){Object.values(h).forEach((t=>t(e,b))),p&&p(e)}}d=g(...e)}else d=g(...e);return Object.values(m).forEach((e=>e(d,b))),d}),c)),_.get(n)[c]=!0}function c(e){return function(...t){try{return e.call(this,...t)}catch(e){return e}}}function i(e){return function(){return c(e).apply(this,Array.from(arguments).slice(0,-1))}}global.__minium__.setCall=function(e,t,{before:u,after:_,callback:f},s=!1){(o?[wx,o]:[wx]).forEach(((o,m)=>{n(o,e),u&&(a.get(o)[e][`${t}`]=s?c(u):i(u)),_&&(l.get(o)[e][`${t}`]=s?c(_):i(_)),f&&(r.get(o)[e][`${t}`]=s?c(f):i(f))}))},global.__minium__.delCall=function(e,t){(o?[wx,o]:[wx]).forEach((n=>{if(!_.get(n)[e])return;const c=a.get(n)[e],i=l.get(n)[e],o=r.get(n)[e];t?(delete c[`${t}`],delete i[`${t}`],delete o[`${t}`]):(Object.entries(c).forEach((([e])=>{delete c[e]})),Object.entries(i).forEach((([e])=>{delete i[e]})),Object.entries(o).forEach((([e])=>{delete o[e]})))}))},global.__minium__.canHook=!0,global.__minium__.setMock=function(e,c,i){(o?[wx,o]:[wx]).forEach((o=>{n(o,e);const a=global.__minium__.getSrcMethod(o,e),l={origin:global.__minium__.bind(a,o)};t(e)?u.get(o)[e]=function(){return c.apply(l,Array.from(arguments).concat(i))}:u.get(o)[e]=function(){return new Promise((e=>{e(c.apply(l,Array.from(arguments).concat(i)))}))}}))},global.__minium__.delMock=function(e){(o?[wx,o]:[wx]).forEach((t=>{u.get(t)[e]=void 0}))},global.__minium__.canMock=!0}}","args":[]}}
[D 2025-05-08 22:22:13,143 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"216fb444-bd1d-43a8-a9e3-ec57829ee732","result":{}}
[D 2025-05-08 22:22:13,143 minium.App1488 app#618 _evaluate_js] evaluate js file requestStack [ALL]
[D 2025-05-08 22:22:13,143 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"69edde36-084a-4d50-9503-5bb536388b95","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium__.request_stack){const e=global.__minium__.request_stack=new Map;global.__minium__.wait_util=function(t=0,a=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((n=>{var s=2*a,i=setInterval((()=>{s--;var a=e.has(r)?e.get(r).size:0;console.debug(\"[minitest] current stack size: \",a),a<=t?(clearInterval(i),n(!0)):s<=0&&(clearInterval(i),console.warn(`${e.has(r)?Array.from(e.get(r)):\"empty stack\"}`),n(!1))}),500)}))};const t=new Map;return global.__minium__.setCall(\"request\",\"requestStack\",{before:function(a,r){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"!=a.url){var n,s=(getCurrentPages().pop()||{}).__wxWebviewId__;if(s)e.has(s)?n=e.get(s):(n=new Map,e.set(s,n)),n.set(r,[Date.now(),a.url]),t.set(r,{pageId:s,requestMap:n})}},callback:function(a,r){if(!t.has(r))return;const{pageId:n,requestMap:s}=t.get(r);t.delete(r),s.delete(r),0===s.size&&e.delete(n)}},!0),!0}return!1}","args":[]}}
[D 2025-05-08 22:22:13,151 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"69edde36-084a-4d50-9503-5bb536388b95","result":{"result":true}}
[D 2025-05-08 22:22:13,153 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"ca6fb6e8-3779-4275-ac61-2fd04452b1b3","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
[D 2025-05-08 22:22:13,157 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"ca6fb6e8-3779-4275-ac61-2fd04452b1b3","result":{"result":{"pages":["pages/login/login","pages/user/home/home"],"tabBar":[]}}}
[D 2025-05-08 22:22:13,157 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"9e9e5582-e45b-4898-976a-c3e2c6cdf68f","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
[D 2025-05-08 22:22:13,161 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"9e9e5582-e45b-4898-976a-c3e2c6cdf68f","result":{"result":{"miniProgram":{"appId":"wxe9dbb4816baa7be1","envVersion":"develop","version":""}}}}
[D 2025-05-08 22:22:13,163 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"1355f45b-509e-4212-8bd4-e4079443e160","method":"App.addBinding","params":{"name":"navigateTo_before_global"}}
[D 2025-05-08 22:22:13,167 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"1355f45b-509e-4212-8bd4-e4079443e160","result":{}}
[D 2025-05-08 22:22:13,167 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"6f1f08e4-a0cf-4086-bfd5-c83878fd29c1","method":"App.addBinding","params":{"name":"redirectTo_before_global"}}
[D 2025-05-08 22:22:13,170 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"6f1f08e4-a0cf-4086-bfd5-c83878fd29c1","result":{}}
[D 2025-05-08 22:22:13,170 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"567e225b-31e7-42aa-9412-ceded2e35492","method":"App.addBinding","params":{"name":"switchTab_before_global"}}
[D 2025-05-08 22:22:13,176 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"567e225b-31e7-42aa-9412-ceded2e35492","result":{}}
[D 2025-05-08 22:22:13,176 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"6ce36ef8-17bb-45a7-8b38-0ee53bfdebbd","method":"App.addBinding","params":{"name":"navigateBack_before_global"}}
[D 2025-05-08 22:22:13,180 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"6ce36ef8-17bb-45a7-8b38-0ee53bfdebbd","result":{}}
[D 2025-05-08 22:22:13,180 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"f2bdc550-5611-45f5-a5d8-1985295d2e7b","method":"App.addBinding","params":{"name":"reLaunch_before_global"}}
[D 2025-05-08 22:22:13,183 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"f2bdc550-5611-45f5-a5d8-1985295d2e7b","result":{}}
[D 2025-05-08 22:22:13,183 minium.App1488 app#618 _evaluate_js] evaluate js file hookNavigation [ALL]
[D 2025-05-08 22:22:13,186 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"e7c44cea-7e3e-4ea7-a766-b52f56630ff9","method":"App.callFunction","params":{"functionDeclaration":"function hookNavigation(){if(global.__minium__.navigationHooked)return!0;global.__minium__.navigationHooked=!0;const e=\"global\",a=Object.defineProperties;function o(e){switch(e){case\"navigateTo_before_global\":return\"function\"==typeof navigateTo_before_global?navigateTo_before_global:void 0;case\"redirectTo_before_global\":return\"function\"==typeof redirectTo_before_global?redirectTo_before_global:void 0;case\"switchTab_before_global\":return\"function\"==typeof switchTab_before_global?switchTab_before_global:void 0;case\"navigateBack_before_global\":return\"function\"==typeof navigateBack_before_global?navigateBack_before_global:void 0;case\"reLaunch_before_global\":return\"function\"==typeof reLaunch_before_global?reLaunch_before_global:void 0;default:return}}function t(e){const a=o(e);return a||function(){const a=o(e);return a&&a(...arguments)}}global.__minium__.getRealBindingMethod=o,global.__minium__.getBindingMethod=t;[\"navigateTo\",\"redirectTo\",\"switchTab\",\"navigateBack\",\"reLaunch\"].forEach((a=>{global.__minium__.setCall(a,e,{before:t(`${a}_before_${e}`)})})),wx.onAppRouteDone((function(){const o=getCurrentPages().pop();o&&function(o,r){if(!o||!0===o.__page_router_rewrited__)return;const n={navigateTo:o.navigateTo,redirectTo:o.redirectTo,switchTab:o.switchTab,navigateBack:o.navigateBack,reLaunch:o.reLaunch};a(o,{__page_router_rewrited__:{value:!0,writable:!0},navigateTo:{value(a={}){const i=t(`navigateTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.navigateTo.call(o,a)},writable:!0},redirectTo:{value(a={}){const i=t(`redirectTo_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.redirectTo.call(o,a)},writable:!0},switchTab:{value(a={}){const i=t(`switchTab_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.switchTab.call(o,a)},writable:!0},navigateBack:{value(a={}){const r=t(`navigateBack_before_${e}`);return r&&r(a),n.navigateBack.call(o,a)},writable:!0},reLaunch:{value(a={}){const i=t(`reLaunch_before_${e}`);return i&&i(Object.assign({oriPath:r},a)),n.reLaunch.call(o,a)},writable:!0}}),console.warn(\"hook pageRouter succ\")}(o.pageRouter,o.route||o.__route__)}))}","args":[]}}
[D 2025-05-08 22:22:13,192 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"e7c44cea-7e3e-4ea7-a766-b52f56630ff9","result":{}}
[D 2025-05-08 22:22:13,195 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"4866e2dc-6d39-418a-a420-1ab254dc1e7c","method":"App.addBinding","params":{"name":"showModal_before_1746714133195"}}
[D 2025-05-08 22:22:13,199 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"4866e2dc-6d39-418a-a420-1ab254dc1e7c","result":{}}
[D 2025-05-08 22:22:13,200 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"dc860313-5e14-45de-8a64-1fc1a2be6e8a","method":"App.addBinding","params":{"name":"showModal_callback_1746714133195"}}
[D 2025-05-08 22:22:13,204 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"dc860313-5e14-45de-8a64-1fc1a2be6e8a","result":{}}
[D 2025-05-08 22:22:13,205 minium.App1488 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:22:13,205 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"b670c108-cabf-4af0-9c5d-5d6c3616a4ac","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showModal_before_1746714133195,after:undefined,callback:showModal_callback_1746714133195},!0):global.__minium__.delCall(_,l)}","args":["showModal",1746714133195,true]}}
[D 2025-05-08 22:22:13,211 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"b670c108-cabf-4af0-9c5d-5d6c3616a4ac","result":{}}
[D 2025-05-08 22:22:13,211 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"b301d55e-e5f0-4e69-a733-bf1f8d2bb7b0","method":"App.addBinding","params":{"name":"showToast_before_1746714133211"}}
[D 2025-05-08 22:22:13,215 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"b301d55e-e5f0-4e69-a733-bf1f8d2bb7b0","result":{}}
[D 2025-05-08 22:22:13,215 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"bb191d2e-d991-4cb2-8b1c-7d41609c2bcd","method":"App.addBinding","params":{"name":"showToast_callback_1746714133211"}}
[D 2025-05-08 22:22:13,219 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"bb191d2e-d991-4cb2-8b1c-7d41609c2bcd","result":{}}
[D 2025-05-08 22:22:13,219 minium.App1488 app#618 _evaluate_js] evaluate js file hookWxMethodWithId [ALL]
[D 2025-05-08 22:22:13,221 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"2aef81f9-089e-43a3-941c-cd6e6612c126","method":"App.callFunction","params":{"functionDeclaration":"function hookWxMethodWithId(_,l,o){if(!global.__minium__.canHook)throw new Error(\"hook\u65b9\u6cd5\u672a\u5b9e\u73b0\");o?global.__minium__.setCall(_,l,{before:showToast_before_1746714133211,after:undefined,callback:showToast_callback_1746714133211},!0):global.__minium__.delCall(_,l)}","args":["showToast",1746714133211,true]}}
[D 2025-05-08 22:22:13,226 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"2aef81f9-089e-43a3-941c-cd6e6612c126","result":{}}
[I 2025-05-08 22:22:13,226 minium wx_minium#893 _instantiate_app] new app instanst <minium.miniprogram.base_driver.app.App object at 0x0000012DCC1828E0>, whether should relaunch: False
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#287 remove] remove key which is not in observers
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"ed244c6a-47f8-440f-883b-28985fd8f92e","method":"Tool.getInfo","params":{}}
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"ed244c6a-47f8-440f-883b-28985fd8f92e","result":{"version":"1.06.2412050","SDKVersion":"2.20.1"}}
[I 2025-05-08 22:22:13,228 minium basenative#59 wrapper] call IdeNative.send
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"65da8d50-bfdb-4aa8-b7e8-d30953c0c049","method":"Tool.native","params":{"method":"clickCoverView","data":{"data":{"nodetype":"text","text":"\u540c\u610f"}}}}
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"65da8d50-bfdb-4aa8-b7e8-d30953c0c049","result":{"error":{"message":"clickCoverView failed"}}}
[W 2025-05-08 22:22:13,228 minium idenative#77 _send] handle clickCoverView error: clickCoverView failed
[I 2025-05-08 22:22:13,228 minium basenative#63 wrapper] call IdeNative.send end False
[D 2025-05-08 22:22:13,228 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"c8e6e4cd-8d03-4113-b7e0-d1e003e7f200","method":"App.callWxMethod","params":{"method":"getPrivacySetting","args":[]}}
[D 2025-05-08 22:22:13,244 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"c8e6e4cd-8d03-4113-b7e0-d1e003e7f200","error":{"message":"wx.getPrivacySetting not exists"}}
[E 2025-05-08 22:22:13,246 minium.Conn7552 connection#668 __on_message] [c8e6e4cd-8d03-4113-b7e0-d1e003e7f200]: wx.getPrivacySetting not exists
[D 2025-05-08 22:22:13,247 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"a2e083d8-3162-4ba6-9aab-5ebae92e964c","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium__.mock_native_modal||(global.__minium__.auth_setting={},global.__minium__.mock_native_modal_list=[],global.__minium__.handle_mock_modal=function(_,l){let m=[];for(;global.__minium__.mock_native_modal_list.length>0;){let i=global.__minium__.mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium__.mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium__.mock_native_modal_list.push(...m),!1},global.__minium__.get_all_modal=function(){let _=[];global.__minium__.mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium__.handle_mock_native_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium__.handle_mock_map_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"map\"])},global.__minium__.handle_mock_auth_modal=function(_){return global.__minium__.handle_mock_modal(_,[\"auth\"])},global.__minium__.mock_native_modal=function(_){_.type=\"modal\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_map_modal=function(_){_.type=\"map\",global.__minium__.mock_native_modal_list.push(_)},global.__minium__.mock_auth_modal=function(_){_.type=\"auth\",global.__minium__.mock_native_modal_list.push(_)},!1)}","args":[]}}
[D 2025-05-08 22:22:13,251 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"a2e083d8-3162-4ba6-9aab-5ebae92e964c","result":{"result":false}}
[D 2025-05-08 22:22:13,251 minium.App1488 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:22:13,253 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"99992707-d89a-491b-a428-027aacf0a4fe","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium__.mock_native_modal(t)}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["showActionSheet",null]}}
[D 2025-05-08 22:22:13,257 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"99992707-d89a-491b-a428-027aacf0a4fe","result":{}}
[D 2025-05-08 22:22:13,260 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"3ff444ba-daf0-472b-85b1-d896905f5d71","method":"App.getCurrentPage","params":{}}
[D 2025-05-08 22:22:13,263 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"3ff444ba-daf0-472b-85b1-d896905f5d71","result":{"pageId":1,"path":"pages/login/login","query":{}}}
[D 2025-05-08 22:22:13,263 minium.App1488 app#618 _evaluate_js] evaluate js file getCurrentPages [ALL]
[D 2025-05-08 22:22:13,265 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"d5a8376d-afd4-4bc6-a896-15560c2993ee","method":"App.callFunction","params":{"functionDeclaration":"function miniumGetCurrentPages(e){var r=getCurrentPages();return e&&(r=[r.pop()]),r=r.map((function(e){if(e){let{route:r}=e;const n=r.indexOf(\"__plugin__/\");return n>-1&&(r=\"plugin-private://\"+r.slice(n+11)),{pageId:e.__wxWebviewId__,path:r,query:e.options,renderer:e.renderer}}})),e?r.pop():r}","args":[true]}}
[D 2025-05-08 22:22:13,270 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"d5a8376d-afd4-4bc6-a896-15560c2993ee","result":{"result":{"pageId":1,"path":"pages/login/login","query":{}}}}
[D 2025-05-08 22:22:13,270 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"3fc352aa-84e2-4c68-bc00-a810b0f33e0b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
[D 2025-05-08 22:22:13,652 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"3fc352aa-84e2-4c68-bc00-a810b0f33e0b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
[D 2025-05-08 22:22:13,654 minium.App1488 app#618 _evaluate_js] evaluate js file mockWxMethod [ALL]
[D 2025-05-08 22:22:13,654 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"db06dc23-8078-4e3f-99e0-9fdf8169807e","method":"App.callFunction","params":{"functionDeclaration":"function mockWxMethod(o,_){if(!global.__minium__.canMock)throw new Error(\"mock\u65b9\u6cd5\u672a\u5b9e\u73b0\");const n=function miniGetLocation(o,n,e){return new Promise((o=>{let t={errMsg:\"chooseLocation:ok\",name:\"\u817e\u8baf\u5fae\u4fe1\u603b\u90e8\",address:\"\u5e7f\u4e1c\u7701\u5e7f\u5dde\u5e02\",latitude:23.12463,longitude:113.36199},i={errMsg:\"chooseLocation:fail cancel\"},c={errMsg:\"chooseLocation:fail auth deny\"},a={};for(let o in t)void 0!==n[o]&&(t[o]=n[o]);for(let o in e)a[o]=Object.assign({},t,e[o]);wx.authorize({scope:\"scope.userLocation\",success:()=>function(){let n={\"\u786e\u5b9a\":function(){return o(t),t}};n[t.name]=function(){return o(t),t};for(let e in a)n[e]=function(){return o(a[e]),a[e]};n[\"\u53d6\u6d88\"]=function(){return o(i),i},global.__minium__.mock_map_modal(n)}(),fail:()=>(o(c),c)}),console.warn(\"[minium] mock wx.chooseLocation, you can use `native.allow_get_location` to handle it\")}))};n?global.__minium__.setMock(o,n,_):global.__minium__.delMock(o)}","args":["chooseLocation",[{},{}]]}}
[D 2025-05-08 22:22:13,658 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"db06dc23-8078-4e3f-99e0-9fdf8169807e","result":{}}
[D 2025-05-08 22:22:13,658 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"6af042b8-5082-4772-970f-18ebff2ff7cd","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(e){if(!global.__minium__[`${e}_network_mocked`]){Object.defineProperty(global.__minium__,`${e}_network_mocked`,{value:!0,writable:!1});class s{constructor(e,s,c){this.success=e,this.fail=s,this.callback=c,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),c(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var s=this.chunkCallback.indexOf(e);-1!==s&&this.chunkCallback.splice(s,1)}offHeadersReceived(e){var s=this.headersReceivedCallback.indexOf(e);-1!==s&&this.headersReceivedCallback.splice(s,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}}global.__minium__[`${e}Task`]=s;const c=new global.__minium__.MockRule(`${e}_network_mock_rule`);global.__minium__.setMock(e,(function(e){const a=(e.method||\"GET\").toUpperCase(),t=e.url,[i,l]=t.split(\"?\"),o=function(e){if(!(e=e.split(\"#\")[0]))return{};const s={},c=e.split(\"&\");for(let e=0;e<c.length;e++){const[a,t]=c[e].split(\"=\");s[a]=decodeURIComponent(t)}return s}(l||\"\");\"GET\"===a&&Object.assign(o,e.data);const r=Object.assign({},e,{url:i,params:o});\"GET\"===a&&Object.assign(r,{data:o});let h=c.search(e);if(!h)if(r.params){const e=Object.assign({},r);e.url=`${r.url}?${Object.keys(r.params).map((e=>`${e}=${r.params[e]}`)).join(\"&\")}`,delete e.params,h=c.search(r,e)}else h=c.search(r);return h?(console.log(\"@@@@rule match\",h),e.__miniumMocked=!0,h.success?new s(h.success,void 0,(s=>{e.success&&e.success(s),e.complete&&e.complete(s)})):h.fail?new s(void 0,h.fail,(s=>{e.fail&&e.fail(s),e.complete&&e.complete(s)})):void 0):this.origin(e)}))}}","args":["request"]}}
[D 2025-05-08 22:22:13,664 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"6af042b8-5082-4772-970f-18ebff2ff7cd","result":{}}
[D 2025-05-08 22:22:13,664 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"a5e8eec2-6296-41d2-8529-d2f1fa0d5df4","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
[D 2025-05-08 22:22:13,669 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"a5e8eec2-6296-41d2-8529-d2f1fa0d5df4","result":{"result":{"accountInfo":{"appId":"wxe9dbb4816baa7be1","nickname":"","icon":"https://mmbiz.qpic.cn/mmbiz_png/icTdbqWNOwNQ0ia79enzYJBsZ3CIkLQGe39qeOxbpT9oM9KaCthzBa0PF75xzBGjZQGlM69TDggxpNX7ACibCjjtw/0?wx_fmt=png"}}}}
[D 2025-05-08 22:22:13,671 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"faf14c5e-1cbc-4eaf-9e56-ebec8d0b6d26","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:22:13,674 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"faf14c5e-1cbc-4eaf-9e56-ebec8d0b6d26","result":{"result":{"batteryLevel":30,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:22:13,674 minium minitest#218 init_miniprogram] end init miniprogram
[I 2025-05-08 22:22:13,682 minium minitest#432 _miniSetUp] =========Current case: test_get_system_info=========
[I 2025-05-08 22:22:13,682 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_get_system_info
[I 2025-05-08 22:22:13,682 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:22:13,682 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:22:13,682 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:22:13,682 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:22:13,682 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[D 2025-05-08 22:22:13,682 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"142e101c-5534-40fb-86cb-0f17cc325215","method":"App.callWxMethod","params":{"method":"getLaunchOptionsSync","args":[]}}
[D 2025-05-08 22:22:13,692 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"142e101c-5534-40fb-86cb-0f17cc325215","result":{"result":{"path":"pages/login/login","query":{},"scene":1001,"referrerInfo":{},"mode":"default","apiCategory":"default"}}}
[I 2025-05-08 22:22:13,693 minium.App1488 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:22:13,695 minium.Conn7552 connection#427 _safely_send] ASYNC_SEND > [1296209107552]{"id":"9d673c82-34cd-4c8c-b137-eba6faa9c226","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:22:13,696 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:22:15,010 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746714135001]}}
[D 2025-05-08 22:22:15,010 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"9d673c82-34cd-4c8c-b137-eba6faa9c226","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:22:15,014 minium.App1488 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746714135001]}
[I 2025-05-08 22:22:15,015 minium.Conn7552 connection#704 _handle_async_msg] received async msg: 9d673c82-34cd-4c8c-b137-eba6faa9c226
[I 2025-05-08 22:22:15,015 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:22:15,015 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"d3d24775-692e-4efa-9321-b57b5038b446","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:23:15,019 minium.App1488 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:23:15,019 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508222153\test_get_system_info\20250508222213676575\images\setup.png not exists
[I 2025-05-08 22:23:15,019 minium minitest#487 _miniSetUp] =========case: test_get_system_info start=========
[I 2025-05-08 22:23:15,019 minium minitest#788 _callTestMethod] call test method
[D 2025-05-08 22:23:15,019 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"3b519fd7-414a-4194-a4c1-0708bf4e937c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
[D 2025-05-08 22:23:15,037 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"3b519fd7-414a-4194-a4c1-0708bf4e937c","result":{"result":{"batteryLevel":30,"benchmarkLevel":-1,"brand":"devtools","memorySize":2048,"model":"iPhone 12/13 (Pro)","system":"iOS 10.0.1","platform":"devtools","pixelRatio":3,"safeArea":{"top":47,"left":0,"right":390,"bottom":810,"width":390,"height":763},"screenWidth":390,"screenHeight":844,"screenTop":91,"windowWidth":390,"windowHeight":753,"statusBarHeight":47,"version":"8.0.5","language":"zh_CN","SDKVersion":"2.20.1","enableDebug":false,"fontSizeScale
[I 2025-05-08 22:23:15,120 minium minitest#897 capture] capture assertIn-success.png
[D 2025-05-08 22:23:15,120 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"21578972-4190-4339-92a3-fb6e8bbe5d07","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:23:17,126 minium.App1488 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:23:17,126 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508222153\test_get_system_info\20250508222213676575\images\assertIn-success.png not exists
[I 2025-05-08 22:23:17,126 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:23:17,126 minium minitest#799 _miniTearDown] =========Current case Down: test_get_system_info=========
[I 2025-05-08 22:23:17,126 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:23:17,126 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"ac8e455c-558a-4947-8fd9-646cd0754cca","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:23:19,136 minium.App1488 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:23:19,136 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508222153\test_get_system_info\20250508222213676575\images\teardown.png not exists
[I 2025-05-08 22:23:19,136 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:23:19,140 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:23:19,157 minium minitest#432 _miniSetUp] =========Current case: test_login=========
[I 2025-05-08 22:23:19,157 minium minitest#435 _miniSetUp] package info: C:.PythonProject.SeatReservationAutoTest.seat_reservation_auto_test, case info: SeatReservationAutoTest.test_login
[I 2025-05-08 22:23:19,157 minium basenative#59 wrapper] call BaseNative.check_connection
[I 2025-05-08 22:23:19,157 minium basenative#63 wrapper] call BaseNative.check_connection end True
[I 2025-05-08 22:23:19,157 minium basenative#59 wrapper] call BaseNative.back_to_miniprogram
[I 2025-05-08 22:23:19,157 minium basenative#794 back_to_miniprogram] try back_to_miniprogram 3
[I 2025-05-08 22:23:19,157 minium basenative#63 wrapper] call BaseNative.back_to_miniprogram end 
[I 2025-05-08 22:23:19,157 minium.App1488 app#950 relaunch] ReLaunch: /pages/login/login
[D 2025-05-08 22:23:19,157 minium.Conn7552 connection#427 _safely_send] ASYNC_SEND > [1296209107552]{"id":"9042cc65-b99d-470d-82c0-cf8ef3723718","method":"App.callWxMethod","params":{"method":"reLaunch","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:23:19,157 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"reLaunch_before_global","args":[{"url":"/pages/login/login"}]}}
[D 2025-05-08 22:23:20,659 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":3,"path":"pages/login/login","query":{},"openType":"reLaunch"},1746714200642]}}
[D 2025-05-08 22:23:20,663 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"9042cc65-b99d-470d-82c0-cf8ef3723718","result":{"result":{"errMsg":"reLaunch:ok"}}}
[I 2025-05-08 22:23:20,664 minium.Conn7552 connection#704 _handle_async_msg] received async msg: 9042cc65-b99d-470d-82c0-cf8ef3723718
[I 2025-05-08 22:23:20,664 minium.App1488 app#1226 _on_route_changed] Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 3, 'path': 'pages/login/login', 'query': {}, 'openType': 'reLaunch'}, 1746714200642]}
[I 2025-05-08 22:23:20,664 minium minitest#897 capture] capture setup.png
[D 2025-05-08 22:23:20,664 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"c7532ae8-5a2a-4aa4-8e8b-8d90a8ceb380","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:23:22,673 minium.App1488 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:23:22,673 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508222153\test_login\20250508222319141836\images\setup.png not exists
[I 2025-05-08 22:23:22,673 minium minitest#487 _miniSetUp] =========case: test_login start=========
[I 2025-05-08 22:23:22,673 minium minitest#788 _callTestMethod] call test method
[I 2025-05-08 22:23:22,673 minium page#716 _get_elements_by_css] try to get elements: button[class='login-btn']
[D 2025-05-08 22:23:22,673 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"8f5f8272-540d-437a-ae1d-548e21f58ade","method":"Page.getElements","params":{"selector":"button[class='login-btn']","pageId":3}}
[D 2025-05-08 22:23:22,693 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"8f5f8272-540d-437a-ae1d-548e21f58ade","result":{"elements":[{"elementId":"7fe9db87-f192-4300-93fe-7882d1522cd5","tagName":"button"}]}}
[I 2025-05-08 22:23:22,693 minium page#749 _get_elements_by_css] find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x0000012DCC208A60>]
[D 2025-05-08 22:23:22,695 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"1fd30657-c824-45b6-a616-db490fd7b9bf","method":"Element.getDOMProperties","params":{"names":["innerText"],"elementId":"7fe9db87-f192-4300-93fe-7882d1522cd5","pageId":3}}
[D 2025-05-08 22:23:22,707 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"1fd30657-c824-45b6-a616-db490fd7b9bf","result":{"properties":["立即登陆"]}}
[D 2025-05-08 22:23:22,709 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"dae7196b-c5ba-4b50-814a-f4937eecdd52","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"7fe9db87-f192-4300-93fe-7882d1522cd5","pageId":3}}
[D 2025-05-08 22:23:22,714 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"dae7196b-c5ba-4b50-814a-f4937eecdd52","result":{"styles":["auto"]}}
[D 2025-05-08 22:23:22,715 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"6c96cdbc-e7bd-428a-9ebf-b452f9f8e1ca","method":"Element.tap","params":{"elementId":"7fe9db87-f192-4300-93fe-7882d1522cd5","pageId":3}}
[D 2025-05-08 22:23:22,725 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"showToast_before_1746714133211","args":[{"title":"请输入账号","icon":"none"},0.10937488392089745]}}
[D 2025-05-08 22:23:22,725 minium.App1488 app#1344 super_before] showToast before hook result: [{'title': '请输入账号', 'icon': 'none'}, 0.10937488392089745]
[D 2025-05-08 22:23:22,734 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"6c96cdbc-e7bd-428a-9ebf-b452f9f8e1ca","result":{}}
[D 2025-05-08 22:23:22,741 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"method":"App.bindingCalled","params":{"name":"showToast_callback_1746714133211","args":[{"errMsg":"showToast:ok"},0.10937488392089745]}}
[D 2025-05-08 22:23:22,742 minium.App1488 app#1366 super_callback] wx.showToast callback hook result: [{'errMsg': 'showToast:ok'}, 0.10937488392089745]
[I 2025-05-08 22:23:23,746 minium minitest#796 _callTestMethod] end test method
[D 2025-05-08 22:23:23,746 minium minitest#799 _miniTearDown] =========Current case Down: test_login=========
[I 2025-05-08 22:23:23,746 minium minitest#897 capture] capture teardown.png
[D 2025-05-08 22:23:23,746 minium.Conn7552 connection#427 _safely_send] SEND > [1296209107552]{"id":"85aee6ac-bba7-4b2b-8396-ba9915d602ca","method":"App.captureScreenshot","params":{}}
[W 2025-05-08 22:23:25,758 minium.App1488 app#682 screen_shot] 截图指令响应失败, 可能因为开发者工具不在前台导致
[W 2025-05-08 22:23:25,758 minium minitest#929 capture] C:\PythonProject\SeatReservationAutoTest\outputs\20250508222153\test_login\20250508222319141836\images\teardown.png not exists
[I 2025-05-08 22:23:25,758 minium basenative#59 wrapper] call BaseNative.get_start_up
[I 2025-05-08 22:23:25,758 minium basenative#63 wrapper] call BaseNative.get_start_up end 
[I 2025-05-08 22:23:25,769 minium miniresult#143 print_shot_msg] 
====================case num:2, failed num:0, error num:0====================
[I 2025-05-08 22:23:35,783 minium.SESSION session#67 run] case queue is empty, test complete, release None
[I 2025-05-08 22:23:35,783 minium minitest#109 reset_minium] reset_minium
[D 2025-05-08 22:23:35,783 minium.Conn7552 connection#427 _safely_send] ASYNC_SEND > [1296209107552]{"id":"1e9c4c2c-4b36-460c-9547-67cba0f6ffae","method":"Tool.close","params":{}}
[D 2025-05-08 22:23:35,783 minium.Conn7552 connection#660 __on_message] RECV < [1296209107552]{"id":"1e9c4c2c-4b36-460c-9547-67cba0f6ffae","result":{}}
[I 2025-05-08 22:23:35,783 minium.Conn7552 connection#704 _handle_async_msg] received async msg: 1e9c4c2c-4b36-460c-9547-67cba0f6ffae, maybe command ignore response
[E 2025-05-08 22:23:35,814 minium.Conn7552 connection#642 _on_error] Connection to remote host was lost.
[I 2025-05-08 22:23:35,814 minium.Conn7552 connection#377 _ws_run_forever] websocket run forever shutdown
[I 2025-05-08 22:23:36,788 minium minitest#89 reset_native] reset_native
[I 2025-05-08 22:23:36,788 minium basenative#59 wrapper] call IdeNative.stop_wechat
[I 2025-05-08 22:23:36,788 minium basenative#63 wrapper] call IdeNative.stop_wechat end None
[I 2025-05-08 22:23:36,788 minium basenative#59 wrapper] call IdeNative.release
[I 2025-05-08 22:23:36,788 minium basenative#59 wrapper] call BaseNative.release
[I 2025-05-08 22:23:36,788 minium basenative#250 release] Native release
[I 2025-05-08 22:23:36,788 minium basenative#59 wrapper] call BaseNative.release_auto_authorize
[I 2025-05-08 22:23:36,788 minium basenative#63 wrapper] call BaseNative.release_auto_authorize end None
[I 2025-05-08 22:23:36,788 minium basenative#63 wrapper] call BaseNative.release end None
[I 2025-05-08 22:23:36,788 minium basenative#63 wrapper] call IdeNative.release end None
